import{a as k7,b as H7,c as A7,d as R7,e as V7,f as Je,g as Qe,h as O7,i as D7,j as P7,l as F7,m as U7}from"./chunk-IG7OMXB2.js";import{b as B7}from"./chunk-CBYG2KFU.js";import{I as w7,aa as V6,d as C7,e as y7,f as z7,g as M7,h as E7,j as x7,k as je,l as T7,n as I7,o as Ze,q as N7,sa as Ke,t as Ye,ta as Xe,ua as e5,w as L7}from"./chunk-HGITZB6Y.js";import{$ as T6,Ab as G1,Bb as _2,D as $e,Fb as H6,Gc as b7,Ib as V4,Jb as C3,Kb as p7,Lb as A6,Mb as h7,Ob as g7,Pb as v7,Qb as R6,Rb as H2,Sb as _7,Vb as $3,X as We,Ya as Q1,Za as k2,_ as s7,a as i7,ac as Ge,da as l7,ea as f7,ja as q3,ka as I6,la as N6,m as c7,ob as k6,qb as a2,qc as S7,ra as L6,sa as w6,sb as d7,ub as m7,vb as R4,za as u7,zb as W1}from"./chunk-JPNHJXW6.js";import{a as m,b as w,c as qe,j as G}from"./chunk-SO6VPFYA.js";var Zr=["*",[["mat-toolbar-row"]]],Yr=["*","mat-toolbar-row"],Kr=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=N6({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),q7=(()=>{let t=class t{constructor(r,o,a){this._elementRef=r,this._platform=o,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(o){return new(o||t)(k2(u7),k2(w7),k2(S7))},t.\u0275cmp=q3({type:t,selectors:[["mat-toolbar"]],contentQueries:function(o,a,i){if(o&1&&h7(i,Kr,5),o&2){let c;g7(c=v7())&&(a._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,a){o&2&&(m7(a.color?"mat-"+a.color:""),d7("mat-toolbar-multiple-rows",a._toolbarRows.length>0)("mat-toolbar-single-row",a._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[$3],ngContentSelectors:Yr,decls:2,vars:0,template:function(o,a){o&1&&(p7(Zr),A6(0),A6(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var $7=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=I6({type:t}),t.\u0275inj=T6({imports:[V6,V6]});let e=t;return e})();var W7={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]};var G7=(()=>{let t=class t{constructor(r,o){this.toaster=r,this.sharedService=o,this.faGoogle=W7}ngOnInit(){this.auth=this.sharedService.getAuth()}loginWithGoogle(){let r=new Ye;r.setCustomParameters({login_hint:"user@example.com"}),L7(this.auth,r).then(o=>{let i=Ye.credentialFromResult(o).accessToken,c=o.user;console.log(c),this.toaster.success("Login Successful","Success")}).catch(o=>{let a=o.code,i=o.message,c=o.customData.email,s=Ye.credentialFromError(o);console.log(o),this.toaster.error("Login Failed","Failed")})}};t.\u0275fac=function(o){return new(o||t)(k2(Ze),k2(e5))},t.\u0275cmp=q3({type:t,selectors:[["app-login"]],standalone:!0,features:[$3],decls:4,vars:1,consts:[[1,"actions"],["mat-button","",3,"click"],[3,"icon"]],template:function(o,a){o&1&&(W1(0,"div",0)(1,"button",1),V4("click",function(){return a.loginWithGoogle()}),_2(2,"fa-icon",2),H2(3," Login With Google "),G1()()),o&2&&(Q1(2),a2("icon",a.faGoogle))},dependencies:[Xe,Ke,Qe,Je],styles:[".actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}"]});let e=t;return e})();var j7=Object.prototype.toString;function y3(e){switch(j7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e2(e,Error)}}function W3(e,t){return j7.call(e)===`[object ${t}]`}function t5(e){return W3(e,"ErrorEvent")}function n5(e){return W3(e,"DOMError")}function D6(e){return W3(e,"DOMException")}function w1(e){return W3(e,"String")}function G3(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function z3(e){return e===null||G3(e)||typeof e!="object"&&typeof e!="function"}function S2(e){return W3(e,"Object")}function M3(e){return typeof Event<"u"&&e2(e,Event)}function P6(e){return typeof Element<"u"&&e2(e,Element)}function F6(e){return W3(e,"RegExp")}function A2(e){return!!(e&&e.then&&typeof e.then=="function")}function U6(e){return S2(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function e2(e,t){try{return e instanceof t}catch{return!1}}function O4(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function R2(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function r5(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{O4(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Z7(e,t,n=!1){return w1(e)?F6(t)?t.test(e):w1(t)?n?e===t:e.includes(t):!1:!1}function i2(e,t=[],n=!1){return t.some(r=>Z7(e,r,n))}function q6(e,t,n=250,r,o,a,i){if(!a.exception||!a.exception.values||!i||!e2(i.originalException,Error))return;let c=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;c&&(a.exception.values=to(B6(e,t,o,i.originalException,r,a.exception.values,c,0),n))}function B6(e,t,n,r,o,a,i,c){if(a.length>=n+1)return a;let s=[...a];if(e2(r[o],Error)){Y7(i,c);let l=e(t,r[o]),u=s.length;K7(l,o,u,c),s=B6(e,t,n,r[o],o,[l,...s],l,u)}return Array.isArray(r.errors)&&r.errors.forEach((l,u)=>{if(e2(l,Error)){Y7(i,c);let f=e(t,l),d=s.length;K7(f,`errors[${u}]`,d,c),s=B6(e,t,n,l,o,[f,...s],f,d)}}),s}function Y7(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=w(m(m({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function K7(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=w(m({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}function to(e,t){return e.map(n=>(n.value&&(n.value=R2(n.value,t)),n))}var R1="8.19.0";var H=globalThis;function j3(e,t,n){let r=n||H,o=r.__SENTRY__=r.__SENTRY__||{},a=o[R1]=o[R1]||{};return a[e]||(a[e]=t())}var Z3=H,no=80;function j1(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],a=0,i=0,c=" > ",s=c.length,l,u=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||no;for(;n&&a++<r&&(l=ro(n,u),!(l==="html"||a>1&&i+o.length*s+l.length>=f));)o.push(l),i+=l.length,n=n.parentNode;return o.reverse().join(c)}catch{return"<unknown>"}}function ro(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(Z3.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(o&&o.length)o.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let i=n.className;if(i&&w1(i)){let c=i.split(/\s+/);for(let s of c)r.push(`.${s}`)}}let a=["aria-label","type","name","title","alt"];for(let i of a){let c=n.getAttribute(i);c&&r.push(`[${i}="${c}"]`)}return r.join("")}function E3(){try{return Z3.document.location.href}catch{return""}}function $6(e){return Z3.document&&Z3.document.querySelector?Z3.document.querySelector(e):null}function D4(e){if(!Z3.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var c2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var oo="Sentry Logger ",P4=["debug","info","warn","error","log","assert","trace"],Y3={};function s2(e){if(!("console"in H))return e();let t=H.console,n={},r=Object.keys(Y3);r.forEach(o=>{let a=Y3[o];n[o]=t[o],t[o]=a});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function ao(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return c2?P4.forEach(n=>{t[n]=(...r)=>{e&&s2(()=>{H.console[n](`${oo}[${n}]:`,...r)})}}):P4.forEach(n=>{t[n]=()=>{}}),t}var g=ao();var io=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function co(e){return e==="http"||e==="https"}function b2(e,t=!1){let{host:n,path:r,pass:o,port:a,projectId:i,protocol:c,publicKey:s}=e;return`${c}://${s}${t&&o?`:${o}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${i}`}function X7(e){let t=io.exec(e);if(!t){s2(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",a="",i="",c=""]=t.slice(1),s="",l=c,u=l.split("/");if(u.length>1&&(s=u.slice(0,-1).join("/"),l=u.pop()),l){let f=l.match(/^\d+/);f&&(l=f[0])}return J7({host:a,pass:o,path:s,projectId:l,port:i,protocol:n,publicKey:r})}function J7(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function so(e){if(!c2)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(g.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?co(r)?t&&isNaN(parseInt(t,10))?(g.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(g.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(g.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function o5(e){let t=typeof e=="string"?X7(e):J7(e);if(!(!t||!so(t)))return t}var k1=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};function i1(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&a5(o,r),e[t]=o}function y1(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{c2&&g.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function a5(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,y1(e,"__sentry_original__",t)}catch{}}function x3(e){return e.__sentry_original__}function G6(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function i5(e){if(y3(e))return m({message:e.message,name:e.name,stack:e.stack},e0(e));if(M3(e)){let t=m({type:e.type,target:Q7(e.target),currentTarget:Q7(e.currentTarget)},e0(e));return typeof CustomEvent<"u"&&e2(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Q7(e){try{return P6(e)?j1(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function e0(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function j6(e,t=40){let n=Object.keys(i5(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return R2(r,t);for(let o=n.length;o>0;o--){let a=n.slice(0,o).join(", ");if(!(a.length>t))return o===n.length?a:R2(a,t)}return""}function X(e){return W6(e,new Map)}function W6(e,t){if(lo(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=W6(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(W6(o,t))}),r}return e}function lo(e){if(!S2(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var V2="?",t0=/\(error: (.*)\)/,n0=/captureMessage|captureException/;function s5(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let a=[],i=n.split(`
`);for(let c=r;c<i.length;c++){let s=i[c];if(s.length>1024)continue;let l=t0.test(s)?s.replace(t0,"$1"):s;if(!l.match(/\S*Error: /)){for(let u of t){let f=u(l);if(f){a.push(f);break}}if(a.length>=50+o)break}}return r0(a.slice(o))}}function Y6(e){return Array.isArray(e)?s5(...e):e}function r0(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(c5(t).function||"")&&t.pop(),t.reverse(),n0.test(c5(t).function||"")&&(t.pop(),n0.test(c5(t).function||"")&&t.pop()),t.slice(0,50).map(n=>w(m({},n),{filename:n.filename||c5(t).filename,function:n.function||V2}))}function c5(e){return e[e.length-1]||{}}var Z6="<anonymous>";function Z1(e){try{return!e||typeof e!="function"?Z6:e.name||Z6}catch{return Z6}}function l5(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var f5={},o0={};function V1(e,t){f5[e]=f5[e]||[],f5[e].push(t)}function O1(e,t){o0[e]||(t(),o0[e]=!0)}function T1(e,t){let n=e&&f5[e];if(n)for(let r of n)try{r(t)}catch(o){c2&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Z1(r)}
Error:`,o)}}function K6(e){let t="console";V1(t,e),O1(t,fo)}function fo(){"console"in H&&P4.forEach(function(e){e in H.console&&i1(H.console,e,function(t){return Y3[e]=t,function(...n){T1("console",{args:n,level:e});let o=Y3[e];o&&o.apply(H.console,n)}})})}var X6=H;function u5(){if(!("fetch"in X6))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function F4(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function J6(){if(typeof EdgeRuntime=="string")return!0;if(!u5())return!1;if(F4(X6.fetch))return!0;let e=!1,t=X6.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=F4(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){c2&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}var a0=1e3;function O2(){return Date.now()/a0}function uo(){let{performance:e}=H;if(!e||!e.now)return O2;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/a0}var p1=uo(),U4,M1=(()=>{let{performance:e}=H;if(!e||!e.now){U4="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=o<t,i=e.timing&&e.timing.navigationStart,s=typeof i=="number"?Math.abs(i+n-r):t,l=s<t;return a||l?o<=s?(U4="timeOrigin",e.timeOrigin):(U4="navigationStart",i):(U4="dateNow",r)})();function B4(e){let t="fetch";V1(t,e),O1(t,mo)}function mo(){J6()&&i1(H,"fetch",function(e){return function(...t){let{method:n,url:r}=po(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:p1()*1e3};T1("fetch",m({},o));let a=new Error().stack;return e.apply(H,t).then(i=>{let c=w(m({},o),{endTimestamp:p1()*1e3,response:i});return T1("fetch",c),i},i=>{let c=w(m({},o),{endTimestamp:p1()*1e3,error:i});throw T1("fetch",c),y3(i)&&i.stack===void 0&&(i.stack=a,y1(i,"framesToPop",1)),i})}})}function Q6(e,t){return!!e&&typeof e=="object"&&!!e[t]}function i0(e){return typeof e=="string"?e:e?Q6(e,"url")?e.url:e.toString?e.toString():"":""}function po(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:i0(n),method:Q6(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:i0(t),method:Q6(t,"method")?String(t.method).toUpperCase():"GET"}}var d5=null;function q4(e){let t="error";V1(t,e),O1(t,ho)}function ho(){d5=H.onerror,H.onerror=function(e,t,n,r,o){return T1("error",{column:r,error:o,line:n,msg:e,url:t}),d5&&!d5.__SENTRY_LOADER__?d5.apply(this,arguments):!1},H.onerror.__SENTRY_INSTRUMENTED__=!0}var m5=null;function $4(e){let t="unhandledrejection";V1(t,e),O1(t,go)}function go(){m5=H.onunhandledrejection,H.onunhandledrejection=function(e){return T1("unhandledrejection",e),m5&&!m5.__SENTRY_LOADER__?m5.apply(this,arguments):!0},H.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function et(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function tt(){return"npm"}function c0(){return!et()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function K3(){return typeof window<"u"&&(!c0()||vo())}function vo(){return H.process!==void 0&&H.process.type==="renderer"}function s0(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let a=0;a<t.length;a++)if(t[a]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let a=0;a<t.length;a++)if(t[a]===o){t.splice(a,1);break}}return[n,r]}function $(){let e=H,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function l0(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function C2(e){let{message:t,event_id:n}=e;if(t)return t;let r=l0(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function X3(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],a=o[0]=o[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function $2(e,t){let n=l0(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism=m(m(m({},r),o),t),t&&"data"in t){let a=m(m({},o&&o.data),t.data);n.mechanism.data=a}}function p5(e){if(e&&e.__sentry_captured__)return!0;try{y1(e,"__sentry_captured__",!0)}catch{}return!1}function W4(e){return Array.isArray(e)?e:[e]}function Y1(e,t=100,n=1/0){try{return nt("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function h5(e,t=3,n=100*1024){let r=Y1(e,t);return Co(r)>n?h5(e,t-1,n):r}function nt(e,t,n=1/0,r=1/0,o=s0()){let[a,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;let c=_o(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;let s=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(s===0)return c.replace("object ","");if(a(t))return"[Circular ~]";let l=t;if(l&&typeof l.toJSON=="function")try{let p=l.toJSON();return nt("",p,s-1,r,o)}catch{}let u=Array.isArray(t)?[]:{},f=0,d=i5(t);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;if(f>=r){u[p]="[MaxProperties ~]";break}let h=d[p];u[p]=nt(p,h,s-1,r,o),f++}return i(t),u}function _o(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(O4(t))return"[VueViewModel]";if(U6(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Z1(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=So(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function So(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function bo(e){return~-encodeURI(e).split(/%..|./).length}function Co(e){return bo(JSON.stringify(e))}var W2;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(W2||(W2={}));function D1(e){return new y2(t=>{t(e)})}function t3(e){return new y2((t,n)=>{n(e)})}var y2=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=W2.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,o)=>{this._handlers.push([!1,a=>{if(!t)r(a);else try{r(t(a))}catch(i){o(i)}},a=>{if(!n)o(a);else try{r(n(a))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,a;return this.then(i=>{a=!1,o=i,t&&t()},i=>{a=!0,o=i,t&&t()}).then(()=>{if(a){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(W2.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(W2.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===W2.PENDING){if(A2(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===W2.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===W2.RESOLVED&&n[1](this._value),this._state===W2.REJECTED&&n[2](this._value),n[0]=!0)})}}};function rt(e){let t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function o(i){if(!n())return t3(new k1("Not adding Promise because buffer limit was reached."));let c=i();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function a(i){return new y2((c,s)=>{let l=t.length;if(!l)return c(!0);let u=setTimeout(()=>{i&&i>0&&c(!1)},i);t.forEach(f=>{D1(f).then(()=>{--l||(clearTimeout(u),c(!0))},s)})})}return{$:t,add:o,drain:a}}function l2(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ot(e){return e.split(/[?#]/,1)[0]}var f0=["fatal","error","warning","log","info","debug"];function at(e){return e==="warn"?"warning":f0.includes(e)?e:"log"}var J3="baggage",it="sentry-",d0=/^sentry-/,m0=8192;function G4(e){let t=p0(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,a])=>{if(o.match(d0)){let i=o.slice(it.length);r[i]=a}return r},{});if(Object.keys(n).length>0)return n}function Q3(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${it}${r}`]=o),n),{});return yo(t)}function p0(e){if(!(!e||!w1(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=u0(n);return Object.entries(r).forEach(([o,a])=>{t[o]=a}),t},{}):u0(e)}function u0(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function yo(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let a=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=o===0?a:`${t},${a}`;return i.length>m0?(c2&&g.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}var h0=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function g0(e){if(!e)return;let t=e.match(h0);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ct(e,t){let n=g0(e),r=G4(t),{traceId:o,parentSpanId:a,parentSampled:i}=n||{};return n?{traceId:o||$(),parentSpanId:a||$().substring(16),spanId:$().substring(16),sampled:i,dsc:r||{}}:{traceId:o||$(),spanId:$().substring(16)}}function T3(e=$(),t=$().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function t2(e,t=[]){return[e,t]}function lt(e,t){let[n,r]=e;return[n,[...r,t]]}function g5(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function st(e){return H.__SENTRY__&&H.__SENTRY__.encodePolyfill?H.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function ft(e){let[t,n]=e,r=JSON.stringify(t);function o(a){typeof r=="string"?r=typeof a=="string"?r+a:[st(r),a]:r.push(typeof a=="string"?st(a):a)}for(let a of n){let[i,c]=a;if(o(`
${JSON.stringify(i)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let s;try{s=JSON.stringify(c)}catch{s=JSON.stringify(Y1(c))}o(s)}}return typeof r=="string"?r:zo(r)}function zo(e){let t=e.reduce((o,a)=>o+a.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function ut(e){return[{type:"span"},e]}function dt(e){let t=typeof e.data=="string"?st(e.data):e.data;return[X({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var Mo={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function v5(e){return Mo[e]}function e4(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function j4(e,t,n,r){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return m(m(m({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:b2(r)}),o&&{trace:X(m({},o))})}function mt(e,t,n){let r=[{type:"client_report"},{timestamp:n||O2(),discarded_events:e}];return t2(t?{dsn:t}:{},[r])}function v0(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function _0(e,t){return e[t]||e.all||0}function Z4(e,t,n=Date.now()){return _0(e,t)>n}function Y4(e,{statusCode:t,headers:n},r=Date.now()){let o=m({},e),a=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(a)for(let c of a.trim().split(",")){let[s,l,,,u]=c.split(":",5),f=parseInt(s,10),d=(isNaN(f)?60:f)*1e3;if(!l)o.all=r+d;else for(let p of l.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(o[p]=r+d):o[p]=r+d}else i?o.all=r+v0(i,r):t===429&&(o.all=r+60*1e3);return o}function pt(e,t){return e??t()}function t4(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],a=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=a(n)):(o==="call"||o==="optionalCall")&&(n=a((...i)=>n.call(t,...i)),t=void 0)}return n}function I3(){return{traceId:$(),spanId:$().substring(16)}}var _5=H;function ht(){let e=_5.chrome,t=e&&e.app&&e.app.runtime,n="history"in _5&&!!_5.history.pushState&&!!_5.history.replaceState;return!t&&n}var V=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function z2(){return K4(H),H}function K4(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||R1,t[R1]=t[R1]||{}}function S0(e){let t=p1(),n={sid:$(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Eo(n)};return e&&G2(n,e),n}function G2(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||p1(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:$()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function b0(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),G2(e,n)}function Eo(e){return X({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var gt="_sentrySpan";function n3(e,t){t?y1(e,gt,t):delete e[gt]}function N3(e){return e[gt]}var xo=100,vt=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=I3()}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=m({},this._tags),t._extra=m({},this._extra),t._contexts=m({},this._contexts),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=m({},this._sdkProcessingMetadata),t._propagationContext=m({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,n3(t,N3(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&G2(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=m(m({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=w(m({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=m(m({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=w(m({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,o]=n instanceof n2?[n.getScopeData(),n.getRequestSession()]:S2(n)?[t,t.requestSession]:[],{tags:a,extra:i,user:c,contexts:s,level:l,fingerprint:u=[],propagationContext:f}=r||{};return this._tags=m(m({},this._tags),a),this._extra=m(m({},this._extra),i),this._contexts=m(m({},this._contexts),s),c&&Object.keys(c).length&&(this._user=c),l&&(this._level=l),u.length&&(this._fingerprint=u),f&&(this._propagationContext=f),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,n3(this,void 0),this._attachments=[],this._propagationContext=I3(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:xo;if(r<=0)return this;let o=m({timestamp:O2()},t),a=this._breadcrumbs;return a.push(o),this._breadcrumbs=a.length>r?a.slice(-r):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:N3(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=m(m({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:$();if(!this._client)return g.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,w(m({originalException:t,syntheticException:o},n),{event_id:r}),this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:$();if(!this._client)return g.warn("No client configured on scope - will not capture message!"),o;let a=new Error(t);return this._client.captureMessage(t,n,w(m({originalException:t,syntheticException:a},r),{event_id:o}),this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:$();return this._client?(this._client.captureEvent(t,w(m({},n),{event_id:r}),this),r):(g.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},n2=vt;function C0(){return j3("defaultCurrentScope",()=>new n2)}function y0(){return j3("defaultIsolationScope",()=>new n2)}var _t=class{constructor(t,n){let r;t?r=t:r=new n2;let o;n?o=n:o=new n2,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return A2(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function n4(){let e=z2(),t=K4(e);return t.stack=t.stack||new _t(C0(),y0())}function To(e){return n4().withScope(e)}function Io(e,t){let n=n4();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function z0(e){return n4().withScope(()=>e(n4().getIsolationScope()))}function M0(){return{withIsolationScope:z0,withScope:To,withSetScope:Io,withSetIsolationScope:(e,t)=>z0(t),getCurrentScope:()=>n4().getScope(),getIsolationScope:()=>n4().getIsolationScope()}}function r3(e){let t=K4(e);return t.acs?t.acs:M0()}function D(){let e=z2();return r3(e).getCurrentScope()}function u1(){let e=z2();return r3(e).getIsolationScope()}function r4(){return j3("globalScope",()=>new n2)}function L3(...e){let t=z2(),n=r3(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function N(){return D().getClient()}var No="_sentryMetrics";function X4(e){let t=e[No];if(!t)return;let n={};for(let[,[r,o]]of t)(n[r]||(n[r]=[])).push(X(o));return n}var z1="sentry.source",o4="sentry.sample_rate",M2="sentry.op",J="sentry.origin",a4="sentry.idle_span_finish_reason",i4="sentry.measurement_unit",c4="sentry.measurement_value",St="sentry.profile_id",J4="sentry.exclusive_time";function bt(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function s4(e,t){e.setAttribute("http.response.status_code",t);let n=bt(t);n.message!=="unknown_error"&&e.setStatus(n)}var S5=0,yt=1;function x0(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:a,status:i,origin:c}=R(e);return X({parent_span_id:a,span_id:t,trace_id:n,data:r,op:o,status:i,origin:c})}function zt(e){let{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=R(e);return X({parent_span_id:r,span_id:t,trace_id:n})}function l4(e){let{traceId:t,spanId:n}=e.spanContext(),r=f2(e);return T3(t,n,r)}function E2(e){return typeof e=="number"?E0(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?E0(e.getTime()):p1()}function E0(e){return e>9999999999?e/1e3:e}function R(e){if(Ho(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(ko(e)){let{attributes:r,startTime:o,name:a,endTime:i,parentSpanId:c,status:s}=e;return X({span_id:t,trace_id:n,data:r,description:a,parent_span_id:c,start_timestamp:E2(o),timestamp:E2(i)||void 0,status:b5(s),op:r[M2],origin:r[J],_metrics_summary:X4(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function ko(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Ho(e){return typeof e.getSpanJSON=="function"}function f2(e){let{traceFlags:t}=e.spanContext();return t===yt}function b5(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var w3="_sentryChildSpans",Ct="_sentryRootSpan";function C5(e,t){let n=e[Ct]||e;y1(t,Ct,n),e[w3]?e[w3].add(t):y1(e,w3,new Set([t]))}function T0(e,t){e[w3]&&e[w3].delete(t)}function o3(e){let t=new Set;function n(r){if(!t.has(r)&&f2(r)){t.add(r);let o=r[w3]?Array.from(r[w3]):[];for(let a of o)n(a)}}return n(e),Array.from(t)}function Z(e){return e[Ct]||e}function t1(){let e=z2(),t=r3(e);return t.getActiveSpan?t.getActiveSpan():N3(D())}var I0=!1;function y5(){I0||(I0=!0,q4(Mt),$4(Mt))}function Mt(){let e=t1(),t=e&&Z(e);if(t){let n="internal_error";V&&g.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:2,message:n})}}Mt.tag="sentry_tracingErrorCallback";var N0="_sentryScope",L0="_sentryIsolationScope";function w0(e,t,n){e&&(y1(e,L0,n),y1(e,N0,t))}function Et(e){return{scope:e[N0],isolationScope:e[L0]}}function K1(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||Ao();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function Ao(){let e=N();return e&&e.getOptions()}var r2=class{constructor(t={}){this._traceId=t.traceId||$(),this._spanId=t.spanId||$().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:S5}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};var f4="production";var k0="_frozenDsc";function xt(e,t){y1(e,k0,t)}function a3(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o=X({environment:n.environment||f4,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",o),o}function P1(e){let t=N();if(!t)return{};let n=a3(R(e).trace_id||"",t),r=Z(e),o=r[k0];if(o)return o;let a=r.spanContext().traceState,i=a&&a.get("sentry.dsc"),c=i&&G4(i);if(c)return c;let s=R(r),l=s.data||{},u=l[o4];u!=null&&(n.sample_rate=`${u}`);let f=l[z1],d=s.description;return f!=="url"&&d&&(n.transaction=d),n.sampled=String(f2(r)),t.emit("createDsc",n,r),n}function H0(e){if(!V)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=R(e),{spanId:o}=e.spanContext(),a=f2(e),i=Z(e),c=i===e,s=`[Tracing] Starting ${a?"sampled":"unsampled"} ${c?"root ":""}span`,l=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&l.push(`parent ID: ${r}`),!c){let{op:u,description:f}=R(i);l.push(`root ID: ${i.spanContext().spanId}`),u&&l.push(`root op: ${u}`),f&&l.push(`root description: ${f}`)}g.log(`${s}
  ${l.join(`
  `)}`)}function A0(e){if(!V)return;let{description:t="< unknown name >",op:n="< unknown op >"}=R(e),{spanId:r}=e.spanContext(),a=Z(e)===e,i=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${r}`;g.log(i)}function i3(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){V&&g.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function R0(e,t){if(!K1(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;let r=i3(n);return r===void 0?(V&&g.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(V&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(V&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function Ro(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function V0(e,t,n,r){let o=e4(n),a=m(m({sent_at:new Date().toISOString()},o&&{sdk:o}),!!r&&t&&{dsn:b2(t)}),i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return t2(a,[i])}function O0(e,t,n,r){let o=e4(n),a=e.type&&e.type!=="replay_event"?e.type:"event";Ro(e,n&&n.sdk);let i=j4(e,o,r,t);return delete e.sdkProcessingMetadata,t2(i,[[{type:a},e]])}function D0(e,t){function n(u){return!!u.trace_id&&!!u.public_key}let r=P1(e[0]),o=t&&t.getDsn(),a=t&&t.getOptions().tunnel,i=m(m({sent_at:new Date().toISOString()},n(r)&&{trace:r}),!!a&&o&&{dsn:b2(o)}),c=t&&t.getOptions().beforeSendSpan,s=c?u=>c(R(u)):u=>R(u),l=[];for(let u of e){let f=s(u);f&&l.push(ut(f))}return t2(i,l)}function z5(e,t,n){let r=t1(),o=r&&Z(r);o&&o.addEvent(e,{[c4]:t,[i4]:n})}function M5(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[i4],a=r[c4];typeof o=="string"&&typeof a=="number"&&(t[n.name]={value:a,unit:o})}),t}var P0=1e3,u4=class{constructor(t={}){this._traceId=t.traceId||$(),this._spanId=t.spanId||$().substring(16),this._startTime=t.startTimestamp||p1(),this._attributes={},this.setAttributes(m({[J]:"manual",[M2]:t.op},t.attributes)),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?yt:S5}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=E2(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=E2(t),A0(this),this._onSpanEnded())}getSpanJSON(){return X({data:this._attributes,description:this._name,op:this._attributes[M2],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:b5(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[J],_metrics_summary:X4(this),profile_id:this._attributes[St],exclusive_time:this._attributes[J4],measurements:M5(this._events),is_segment:this._isStandaloneSpan&&Z(this)===this||void 0,segment_id:this._isStandaloneSpan?Z(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){V&&g.log("[Tracing] Adding an event to span:",t);let o=F0(n)?n:r||p1(),a=F0(n)?{}:n||{},i={name:t,time:E2(o),attributes:a};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=N();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Z(this)))return;if(this._isStandaloneSpan){this._sampled?Oo(D0([this],t)):(V&&g.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Et(this).scope||D()).captureEvent(r)}_convertSpanToTransaction(){if(!U0(R(this)))return;this._name||(V&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Et(this),o=(t||D()).getClient()||N();if(this._sampled!==!0){V&&g.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),o&&o.recordDroppedEvent("sample_rate","transaction");return}let i=o3(this).filter(f=>f!==this&&!Vo(f)).map(f=>R(f)).filter(U0),c=this._attributes[z1],s=m({contexts:{trace:x0(this)},spans:i.length>P0?i.sort((f,d)=>f.start_timestamp-d.start_timestamp).slice(0,P0):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:m({capturedSpanScope:t,capturedSpanIsolationScope:n},X({dynamicSamplingContext:P1(this)})),_metrics_summary:X4(this)},c&&{transaction_info:{source:c}}),l=M5(this._events);return l&&Object.keys(l).length&&(V&&g.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),s.measurements=l),s}};function F0(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function U0(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Vo(e){return e instanceof u4&&e.isStandaloneSpan()}function Oo(e){let t=N();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}let r=t.getTransport();r&&r.send(e).then(null,o=>{V&&g.error("Error while sending span:",o)})}var q0="__SENTRY_SUPPRESS_TRACING__";function I1(e){let t=$0();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Po(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?i=>L3(e.scope,i):o!==void 0?i=>Q4(o,i):i=>i())(()=>{let i=D(),c=Uo(i);return e.onlyIfParent&&!c?new r2:Do({parentSpan:c,spanArguments:n,forceTransaction:r,scope:i})})}function Q4(e,t){let n=$0();return n.withActiveSpan?n.withActiveSpan(e,t):L3(r=>(n3(r,e||void 0),t(r)))}function Do({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!K1())return new r2;let o=u1(),a;if(e&&!n)a=Fo(e,r,t),C5(e,a);else if(e){let i=P1(e),{traceId:c,spanId:s}=e.spanContext(),l=f2(e);a=B0(m({traceId:c,parentSpanId:s},t),r,l),xt(a,i)}else{let{traceId:i,dsc:c,parentSpanId:s,sampled:l}=m(m({},o.getPropagationContext()),r.getPropagationContext());a=B0(m({traceId:i,parentSpanId:s},t),r,l),c&&xt(a,c)}return H0(a),w0(a,r,o),a}function Po(e){let t=e.experimental||{},n=m({isStandalone:t.standalone},e);if(e.startTime){let r=m({},n);return r.startTimestamp=E2(e.startTime),delete r.startTime,r}return n}function $0(){let e=z2();return r3(e)}function B0(e,t,n){let r=N(),o=r&&r.getOptions()||{},{name:a="",attributes:i}=e,[c,s]=t.getScopeData().sdkProcessingMetadata[q0]?[!1]:R0(o,{name:a,parentSampled:n,attributes:i,transactionContext:{name:a,parentSampled:n}}),l=new u4(w(m({},e),{attributes:m({[z1]:"custom"},e.attributes),sampled:c}));return s!==void 0&&l.setAttribute(o4,s),r&&r.emit("spanStart",l),l}function Fo(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[q0]?!1:f2(e),i=a?new u4(w(m({},n),{parentSpanId:r,traceId:o,sampled:a})):new r2({traceId:o});C5(e,i);let c=N();return c&&(c.emit("spanStart",i),n.endTimestamp&&c.emit("spanEnd",i)),i}function Uo(e){let t=N3(e);if(!t)return;let n=N();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Z(t):t}var d4={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Bo="heartbeatFailed",qo="idleTimeout",$o="finalTimeout",Wo="externalFinish";function E5(e,t={}){let n=new Map,r=!1,o,a=Wo,i=!t.disableAutoFinish,c=[],{idleTimeout:s=d4.idleTimeout,finalTimeout:l=d4.finalTimeout,childSpanTimeout:u=d4.childSpanTimeout,beforeSpanEnd:f}=t,d=N();if(!d||!K1())return new r2;let p=D(),h=t1(),S=Go(e);S.end=new Proxy(S.end,{apply(v,_,z){f&&f(S);let[L,...M]=z,x=L||p1(),O=E2(x),Q=o3(S).filter(F=>F!==S);if(!Q.length)return y(O),Reflect.apply(v,_,[O,...M]);let e1=Q.map(F=>R(F).timestamp).filter(F=>!!F),v1=e1.length?Math.max(...e1):void 0,P=R(S).start_timestamp,C1=Math.min(P?P+l/1e3:1/0,Math.max(P||-1/0,Math.min(O,v1||1/0)));return y(C1),Reflect.apply(v,_,[C1,...M])}});function C(){o&&(clearTimeout(o),o=void 0)}function b(v){C(),o=setTimeout(()=>{!r&&n.size===0&&i&&(a=qo,S.end(v))},s)}function E(v){o=setTimeout(()=>{!r&&i&&(a=Bo,S.end(v))},u)}function I(v){C(),n.set(v,!0);let _=p1();E(_+u/1e3)}function T(v){if(n.has(v)&&n.delete(v),n.size===0){let _=p1();b(_+s/1e3)}}function y(v){r=!0,n.clear(),c.forEach(O=>O()),n3(p,h);let _=R(S),{start_timestamp:z}=_;if(!z)return;(_.data||{})[a4]||S.setAttribute(a4,a),g.log(`[Tracing] Idle span "${_.op}" finished`);let M=o3(S).filter(O=>O!==S),x=0;M.forEach(O=>{O.isRecording()&&(O.setStatus({code:2,message:"cancelled"}),O.end(v),V&&g.log("[Tracing] Cancelling span since span ended early",JSON.stringify(O,void 0,2)));let Q=R(O),{timestamp:e1=0,start_timestamp:v1=0}=Q,P=v1<=v,C1=(l+s)/1e3,F=e1-v1<=C1;if(V){let l1=JSON.stringify(O,void 0,2);P?F||g.log("[Tracing] Discarding span since it finished after idle span final timeout",l1):g.log("[Tracing] Discarding span since it happened after idle span was finished",l1)}(!F||!P)&&(T0(S,O),x++)}),x>0&&S.setAttribute("sentry.idle_span_discarded_spans",x)}return c.push(d.on("spanStart",v=>{if(r||v===S||R(v).timestamp)return;o3(S).includes(v)&&I(v.spanContext().spanId)})),c.push(d.on("spanEnd",v=>{r||T(v.spanContext().spanId)})),c.push(d.on("idleSpanEnableAutoFinish",v=>{v===S&&(i=!0,b(),n.size&&E())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(S.setStatus({code:2,message:"deadline_exceeded"}),a=$o,S.end())},l),S}function Go(e){let t=I1(e);return n3(D(),t),V&&g.log("[Tracing] Started span is an idle span"),t}function x5(e,t,n,r=0){return new y2((o,a)=>{let i=e[r];if(t===null||typeof i!="function")o(t);else{let c=i(m({},t),n);V&&i.id&&c===null&&g.log(`Event processor "${i.id}" dropped event`),A2(c)?c.then(s=>x5(e,s,n,r+1).then(o)).then(null,a):x5(e,c,n,r+1).then(o).then(null,a)}})}function W0(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:a}=t;jo(e,t),r&&Ko(e,r),Xo(e,n),Zo(e,o),Yo(e,a)}function Tt(e,t){let{extra:n,tags:r,user:o,contexts:a,level:i,sdkProcessingMetadata:c,breadcrumbs:s,fingerprint:l,eventProcessors:u,attachments:f,propagationContext:d,transactionName:p,span:h}=t;ee(e,"extra",n),ee(e,"tags",r),ee(e,"user",o),ee(e,"contexts",a),ee(e,"sdkProcessingMetadata",c),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),s.length&&(e.breadcrumbs=[...e.breadcrumbs,...s]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext=m(m({},e.propagationContext),d)}function ee(e,t,n){if(n&&Object.keys(n).length){e[t]=m({},e[t]);for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function jo(e,t){let{extra:n,tags:r,user:o,contexts:a,level:i,transactionName:c}=t,s=X(n);s&&Object.keys(s).length&&(e.extra=m(m({},s),e.extra));let l=X(r);l&&Object.keys(l).length&&(e.tags=m(m({},l),e.tags));let u=X(o);u&&Object.keys(u).length&&(e.user=m(m({},u),e.user));let f=X(a);f&&Object.keys(f).length&&(e.contexts=m(m({},f),e.contexts)),i&&(e.level=i),c&&e.type!=="transaction"&&(e.transaction=c)}function Zo(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Yo(e,t){e.sdkProcessingMetadata=m(m({},e.sdkProcessingMetadata),t)}function Ko(e,t){e.contexts=m({trace:zt(t)},e.contexts),e.sdkProcessingMetadata=m({dynamicSamplingContext:P1(t)},e.sdkProcessingMetadata);let n=Z(t),r=R(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Xo(e,t){e.fingerprint=e.fingerprint?W4(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function te(e,t,n,r,o,a){let{normalizeDepth:i=3,normalizeMaxBreadth:c=1e3}=e,s=w(m({},t),{event_id:t.event_id||n.event_id||$(),timestamp:t.timestamp||O2()}),l=n.integrations||e.integrations.map(C=>C.name);Jo(s,e),ta(s,l),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&Qo(s,e.stackParser);let u=ra(r,n.captureContext);n.mechanism&&$2(s,n.mechanism);let f=o?o.getEventProcessors():[],d=r4().getScopeData();if(a){let C=a.getScopeData();Tt(d,C)}if(u){let C=u.getScopeData();Tt(d,C)}let p=[...n.attachments||[],...d.attachments];p.length&&(n.attachments=p),W0(s,d);let h=[...f,...d.eventProcessors];return x5(h,s,n).then(C=>(C&&ea(C),typeof i=="number"&&i>0?na(C,i,c):C))}function Jo(e,t){let{environment:n,release:r,dist:o,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:f4),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=R2(e.message,a));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=R2(i.value,a));let c=e.request;c&&c.url&&(c.url=R2(c.url,a))}var G0=new WeakMap;function Qo(e,t){let n=H._sentryDebugIds;if(!n)return;let r,o=G0.get(t);o?r=o:(r=new Map,G0.set(t,r));let a=Object.entries(n).reduce((i,[c,s])=>{let l,u=r.get(c);u?l=u:(l=t(c),r.set(c,l));for(let f=l.length-1;f>=0;f--){let d=l[f];if(d.filename){i[d.filename]=s;break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(c=>{c.filename&&(c.debug_id=a[c.filename])})})}catch{}}function ea(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function ta(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function na(e,t,n){if(!e)return null;let r=m(m(m(m(m({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>m(m({},o),o.data&&{data:Y1(o.data,t,n)}))}),e.user&&{user:Y1(e.user,t,n)}),e.contexts&&{contexts:Y1(e.contexts,t,n)}),e.extra&&{extra:Y1(e.extra,t,n)});return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Y1(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>m(m({},o),o.data&&{data:Y1(o.data,t,n)}))),r}function ra(e,t){if(!t)return e;let n=e?e.clone():new n2;return n.update(t),n}function j0(e){if(e)return oa(e)?{captureContext:e}:ia(e)?{captureContext:e}:e}function oa(e){return e instanceof n2||typeof e=="function"}var aa=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ia(e){return Object.keys(e).some(t=>aa.includes(t))}function H3(e,t){return D().captureException(e,j0(t))}function ne(e,t){return D().captureEvent(e,t)}function m4(e,t){u1().setContext(e,t)}function T5(e){u1().addEventProcessor(e)}function re(e){let t=N(),n=u1(),r=D(),{release:o,environment:a=f4}=t&&t.getOptions()||{},{userAgent:i}=H.navigator||{},c=S0(m(m({release:o,environment:a,user:r.getUser()||n.getUser()},i&&{userAgent:i}),e)),s=n.getSession();return s&&s.status==="ok"&&G2(s,{status:"exited"}),I5(),n.setSession(c),r.setSession(c),c}function I5(){let e=u1(),t=D(),n=t.getSession()||e.getSession();n&&b0(n),Y0(),e.setSession(),t.setSession()}function Y0(){let e=u1(),t=D(),n=N(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function oe(e=!1){if(e){I5();return}Y0()}var ca="7";function sa(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function la(e){return`${sa(e)}${e.projectId}/envelope/`}function fa(e,t){return G6(m({sentry_key:e.publicKey,sentry_version:ca},t&&{sentry_client:`${t.name}/${t.version}`}))}function K0(e,t,n){return t||`${la(e)}?${fa(e,n)}`}var X0=[];function ua(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function It(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=W4(n(t)):r=t;let o=ua(r),a=o.findIndex(i=>i.name==="Debug");if(a>-1){let[i]=o.splice(a,1);o.push(i)}return o}function J0(e,t){let n={};return t.forEach(r=>{r&&Lt(e,r,n)}),n}function Nt(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Lt(e,t,n){if(n[t.name]){V&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,X0.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),X0.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,a)=>r(o,a,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((a,i)=>r(a,i,e),{id:t.name});e.addEventProcessor(o)}V&&g.log(`Integration installed: ${t.name}`)}var Q0="Not capturing exception because it's already been captured.",ae=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=o5(t.dsn):V&&g.warn("No DSN provided, client will not send events."),this._dsn){let n=K0(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport(w(m({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:n}))}}captureException(t,n,r){let o=$();if(p5(t))return V&&g.log(Q0),o;let a=m({event_id:o},n);return this._process(this.eventFromException(t,a).then(i=>this._captureEvent(i,a,r))),a.event_id}captureMessage(t,n,r,o){let a=m({event_id:$()},r),i=G3(t)?t:String(t),c=z3(t)?this.eventFromMessage(i,n,a):this.eventFromException(t,a);return this._process(c.then(s=>this._captureEvent(s,a,o))),a.event_id}captureEvent(t,n,r){let o=$();if(n&&n.originalException&&p5(n.originalException))return V&&g.log(Q0),o;let a=m({event_id:o},n),c=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,c||r)),a.event_id}captureSession(t){typeof t.release!="string"?V&&g.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),G2(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):D1(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Lt(this,t,this._integrations),n||Nt(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=O0(t,this._dsn,this._options._metadata,this._options.tunnel);for(let a of n.attachments||[])r=lt(r,dt(a));let o=this.sendEnvelope(r);o&&o.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){let n=V0(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let o=`${t}:${n}`;V&&g.log(`Adding outcome: "${o}"`),this._outcomes[o]=(this._outcomes[o]||0)+1}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(V&&g.error("Error while sending event:",n),n)):(V&&g.error("Transport disabled"),D1({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=J0(this,t),Nt(this,t)}_updateSessionFromEvent(t,n){let r=!1,o=!1,a=n.exception&&n.exception.values;if(a){o=!0;for(let s of a){let l=s.mechanism;if(l&&l.handled===!1){r=!0;break}}}let i=t.status==="ok";(i&&t.errors===0||i&&r)&&(G2(t,w(m({},r&&{status:"crashed"}),{errors:t.errors||Number(o||r)})),this.captureSession(t))}_isClientDoneProcessing(t){return new y2(n=>{let r=0,o=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=o,t&&r>=t&&(clearInterval(a),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o=u1()){let a=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),te(a,t,n,r,this,o).then(c=>{if(c===null)return c;let s=m(m({},o.getPropagationContext()),r?r.getPropagationContext():void 0);if(!(c.contexts&&c.contexts.trace)&&s){let{traceId:u,spanId:f,parentSpanId:d,dsc:p}=s;c.contexts=m({trace:X({trace_id:u,span_id:f,parent_span_id:d})},c.contexts);let h=p||a3(u,this);c.sdkProcessingMetadata=m({dynamicSamplingContext:h},c.sdkProcessingMetadata)}return c})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(o=>o.event_id,o=>{if(V){let a=o;a.logLevel==="log"?g.log(a.message):g.warn(a)}})}_processEvent(t,n,r){let o=this.getOptions(),{sampleRate:a}=o,i=wt(t),c=e9(t),s=t.type||"error",l=`before send for type \`${s}\``,u=typeof a>"u"?void 0:i3(a);if(c&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),t3(new k1(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));let f=s==="replay_event"?"replay":s,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",f,t),new k1("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;let C=ma(this,o,h,n);return da(C,l)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",f,t),wt(t)){let E=1+(t.spans||[]).length;this._outcomes.span=(this._outcomes.span||0)+E}throw new k1(`${l} returned \`null\`, will not send event.`,"log")}let S=r&&r.getSession();!i&&S&&this._updateSessionFromEvent(S,h);let C=h.transaction_info;if(i&&C&&h.transaction!==t.transaction){let b="custom";h.transaction_info=w(m({},C),{source:b})}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof k1?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new k1(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,a]=n.split(":");return{reason:o,category:a,quantity:r}})}};function da(e,t){let n=`${t} must return \`null\` or a valid event.`;if(A2(e))return e.then(r=>{if(!S2(r)&&r!==null)throw new k1(n);return r},r=>{throw new k1(`${t} rejected with ${r}`)});if(!S2(e)&&e!==null)throw new k1(n);return e}function ma(e,t,n,r){let{beforeSend:o,beforeSendTransaction:a,beforeSendSpan:i}=t;if(e9(n)&&o)return o(n,r);if(wt(n)){if(n.spans&&i){let c=[];for(let s of n.spans){let l=i(s);l?c.push(l):e.recordDroppedEvent("before_send","span")}n.spans=c}if(a)return a(n,r)}return n}function e9(e){return e.type===void 0}function wt(e){return e.type==="transaction"}function kt(e,t){t.debug===!0&&(V?g.enable():s2(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),D().update(t.initialScope);let r=new e(t);return Ht(r),r.init(),r}function Ht(e){D().setClient(e)}var pa=64;function N5(e,t,n=rt(e.bufferSize||pa)){let r={},o=i=>n.drain(i);function a(i){let c=[];if(g5(i,(f,d)=>{let p=v5(d);if(Z4(r,p)){let h=t9(f,d);e.recordDroppedEvent("ratelimit_backoff",p,h)}else c.push(f)}),c.length===0)return D1({});let s=t2(i[0],c),l=f=>{g5(s,(d,p)=>{let h=t9(d,p);e.recordDroppedEvent(f,v5(p),h)})},u=()=>t({body:ft(s)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&V&&g.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=Y4(r,f),f),f=>{throw l("network_error"),f});return n.add(u).then(f=>f,f=>{if(f instanceof k1)return V&&g.error("Skipped sending event because buffer is full."),l("queue_overflow"),D1({});throw f})}return{send:a,flush:o}}function t9(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function At(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return ga(e,n)||ha(e,r)}function ha(e,t){return t?n9(e)===n9(t):!1}function ga(e,t){return t?e.includes(t.host):!1}function n9(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function ie(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${r}:@sentry/${a}`,version:R1})),version:R1}),e._metadata=o}var va=100;function u2(e,t){let n=N(),r=u1();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:a=va}=n.getOptions();if(a<=0)return;let i=O2(),c=m({timestamp:i},e),s=o?s2(()=>o(c,t)):c;s!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,a))}var r9,_a="FunctionToString",o9=new WeakMap,Sa=()=>({name:_a,setupOnce(){r9=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=x3(this),n=o9.has(N())&&t!==void 0?t:this;return r9.apply(n,e)}}catch{}},setup(e){o9.set(e,!0)}}),p4=Sa;var ba=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Ca="InboundFilters",ya=(e={})=>({name:Ca,processEvent(t,n,r){let o=r.getOptions(),a=za(e,o);return Ma(t,a)?null:t}}),h4=ya;function za(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:ba],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Ma(e,t){return t.ignoreInternal&&La(e)?(V&&g.warn(`Event dropped due to being internal Sentry Error.
Event: ${C2(e)}`),!0):Ea(e,t.ignoreErrors)?(V&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${C2(e)}`),!0):ka(e)?(V&&g.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${C2(e)}`),!0):xa(e,t.ignoreTransactions)?(V&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${C2(e)}`),!0):Ta(e,t.denyUrls)?(V&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${C2(e)}.
Url: ${L5(e)}`),!0):Ia(e,t.allowUrls)?!1:(V&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${C2(e)}.
Url: ${L5(e)}`),!0)}function Ea(e,t){return e.type||!t||!t.length?!1:Na(e).some(n=>i2(n,t))}function xa(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?i2(n,t):!1}function Ta(e,t){if(!t||!t.length)return!1;let n=L5(e);return n?i2(n,t):!1}function Ia(e,t){if(!t||!t.length)return!0;let n=L5(e);return n?i2(n,t):!0}function Na(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function La(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function wa(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function L5(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?wa(t):null}catch{return V&&g.error(`Cannot extract url for event ${C2(e)}`),null}}function ka(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}var Ha="Dedupe",Aa=()=>{let e;return{name:Ha,processEvent(t){if(t.type)return t;try{if(Ra(t,e))return V&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},g4=Aa;function Ra(e,t){return t?!!(Va(e,t)||Oa(e,t)):!1}function Va(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!c9(e,t)||!i9(e,t))}function Oa(e,t){let n=a9(t),r=a9(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!c9(e,t)||!i9(e,t))}function i9(e,t){let n=l5(e),r=l5(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let a=r[o],i=n[o];if(a.filename!==i.filename||a.lineno!==i.lineno||a.colno!==i.colno||a.function!==i.function)return!1}return!0}function c9(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function a9(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Rt(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let a=K1()&&t(e.fetchData.url);if(e.endTimestamp&&a){let h=e.fetchData.__span;if(!h)return;let S=r[h];S&&(Pa(S,e),delete r[h]);return}let i=D(),c=N(),{method:s,url:l}=e.fetchData,u=Da(l),f=u?l2(u).host:void 0,d=!!t1(),p=a&&d?I1({name:`${s} ${l}`,attributes:{url:l,type:"fetch","http.method":s,"http.url":u,"server.address":f,[J]:o,[M2]:"http.client"}}):new r2;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&c){let h=e.args[0];e.args[1]=e.args[1]||{};let S=e.args[1];S.headers=s9(h,c,i,S,K1()&&d?p:void 0)}return p}function s9(e,t,n,r,o){let a=u1(),{traceId:i,spanId:c,sampled:s,dsc:l}=m(m({},a.getPropagationContext()),n.getPropagationContext()),u=o?l4(o):T3(i,c,s),f=Q3(l||(o?P1(o):a3(i,t))),d=r.headers||(typeof Request<"u"&&e2(e,Request)?e.headers:void 0);if(d)if(typeof Headers<"u"&&e2(d,Headers)){let p=new Headers(d);return p.append("sentry-trace",u),f&&p.append(J3,f),p}else if(Array.isArray(d)){let p=[...d,["sentry-trace",u]];return f&&p.push([J3,f]),p}else{let p="baggage"in d?d.baggage:void 0,h=[];return Array.isArray(p)?h.push(...p):p&&h.push(p),f&&h.push(f),w(m({},d),{"sentry-trace":u,baggage:h.length>0?h.join(","):void 0})}else return{"sentry-trace":u,baggage:f}}function Da(e){try{return new URL(e).href}catch{return}}function Pa(e,t){if(t.response){s4(e,t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function v4(e,t={},n=D()){let{message:r,name:o,email:a,url:i,source:c,associatedEventId:s,tags:l}=e,u={contexts:{feedback:X({contact_email:a,name:o,message:r,url:i,source:c,associated_event_id:s})},type:"feedback",level:"info",tags:l},f=n&&n.getClient()||N();return f&&f.emit("beforeSendFeedback",u,t),n.captureEvent(u,t)}var A=H,Vt=0;function Ot(){return Vt>0}function ti(){Vt++,setTimeout(()=>{Vt--})}function A3(e,t={},n){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return o;if(x3(e))return e}catch{return e}let r=function(){let o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let a=o.map(i=>A3(i,t));return e.apply(this,a)}catch(a){throw ti(),L3(i=>{i.addEventProcessor(c=>(t.mechanism&&(X3(c,void 0,void 0),$2(c,t.mechanism)),c.extra=w(m({},c.extra),{arguments:o}),c)),H3(a)}),a}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}a5(r,e),y1(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}var E1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function w5(e,t){let n=Ft(e,t),r={type:t&&t.name,value:ii(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function ni(e,t,n,r){let o=N(),a=o&&o.getOptions().normalizeDepth,i=li(t),c={__serialized__:h5(t,a)};if(i)return{exception:{values:[w5(e,i)]},extra:c};let s={exception:{values:[{type:M3(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ci(t,{isUnhandledRejection:r})}]},extra:c};if(n){let l=Ft(e,n);l.length&&(s.exception.values[0].stacktrace={frames:l})}return s}function Dt(e,t){return{exception:{values:[w5(e,t)]}}}function Ft(e,t){let n=t.stacktrace||t.stack||"",r=oi(t),o=ai(t);try{return e(n,r,o)}catch{}return[]}var ri=/Minified React error #\d+;/i;function oi(e){return e&&ri.test(e.message)?1:0}function ai(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ii(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function u9(e,t,n,r){let o=n&&n.syntheticException||void 0,a=k5(e,t,o,r);return $2(a),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),D1(a)}function d9(e,t,n="info",r,o){let a=r&&r.syntheticException||void 0,i=Pt(e,t,a,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),D1(i)}function k5(e,t,n,r,o){let a;if(t5(t)&&t.error)return Dt(e,t.error);if(n5(t)||D6(t)){let i=t;if("stack"in t)a=Dt(e,t);else{let c=i.name||(n5(i)?"DOMError":"DOMException"),s=i.message?`${c}: ${i.message}`:c;a=Pt(e,s,n,r),X3(a,s)}return"code"in i&&(a.tags=w(m({},a.tags),{"DOMException.code":`${i.code}`})),a}return y3(t)?Dt(e,t):S2(t)||M3(t)?(a=ni(e,t,n,o),$2(a,{synthetic:!0}),a):(a=Pt(e,t,n,r),X3(a,`${t}`,void 0),$2(a,{synthetic:!0}),a)}function Pt(e,t,n,r){let o={};if(r&&n){let a=Ft(e,n);a.length&&(o.exception={values:[{value:t,stacktrace:{frames:a}}]})}if(G3(t)){let{__sentry_template_string__:a,__sentry_template_values__:i}=t;return o.logentry={message:a,params:i},o}return o.message=t,o}function ci(e,{isUnhandledRejection:t}){let n=j6(e),r=t?"promise rejection":"exception";return t5(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:M3(e)?`Event \`${si(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function si(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function li(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}function m9(e,{metadata:t,tunnel:n,dsn:r}){let o=m(m({event_id:e.event_id,sent_at:new Date().toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!n&&!!r&&{dsn:b2(r)}),a=fi(e);return t2(o,[a])}function fi(e){return[{type:"user_report"},e]}var H5=class extends ae{constructor(t){let n=m({parentSpanIsAlwaysRootSpan:!0},t),r=A.SENTRY_SDK_SOURCE||tt();ie(n,"browser",["browser"],r),super(n),n.sendClientReports&&A.document&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return u9(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return d9(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){E1&&g.warn("SDK not enabled, will not capture user feedback.");return}let n=m9(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){E1&&g.log("No outcomes to send");return}if(!this._dsn){E1&&g.log("No dsn provided, will not send outcomes");return}E1&&g.log("Sending outcomes:",t);let n=mt(t,this._options.tunnel&&b2(this._dsn));this.sendEnvelope(n)}};var H1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var ui=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",d2=(e,t,n,r)=>{let o,a;return i=>{t.value>=0&&(i||r)&&(a=t.value-(o||0),(a||o===void 0)&&(o=t.value,t.delta=a,t.rating=ui(t.value,n),e(t)))}};var k=H;var p9=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var j2=()=>k.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var c3=()=>{let e=j2();return e&&e.activationStart||0};var m2=(e,t)=>{let n=j2(),r="navigate";return n&&(k.document&&k.document.prerendering||c3()>0?r="prerender":k.document&&k.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:p9(),navigationType:r}};var X1=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var s3=e=>{let t=n=>{(n.type==="pagehide"||k.document&&k.document.visibilityState==="hidden")&&e(n)};k.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var _4=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};var ce=-1,di=()=>{ce=k.document.visibilityState==="hidden"&&!k.document.prerendering?0:1/0},A5=e=>{k.document.visibilityState==="hidden"&&ce>-1&&(ce=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",A5,!0),removeEventListener("prerenderingchange",A5,!0))},mi=()=>{addEventListener("visibilitychange",A5,!0),addEventListener("prerenderingchange",A5,!0)},l3=()=>(k.document&&ce<0&&(di(),mi()),{get firstHiddenTime(){return ce}});var D2=e=>{k.document&&k.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var pi=[1800,3e3],h9=(e,t={})=>{D2(()=>{let n=l3(),r=m2("FCP"),o,i=X1("paint",c=>{c.forEach(s=>{s.name==="first-contentful-paint"&&(i.disconnect(),s.startTime<n.firstHiddenTime&&(r.value=Math.max(s.startTime-c3(),0),r.entries.push(s),o(!0)))})});i&&(o=d2(e,r,pi,t.reportAllChanges))})};var hi=[.1,.25],g9=(e,t={})=>{h9(_4(()=>{let n=m2("CLS",0),r,o=0,a=[],i=s=>{s.forEach(l=>{if(!l.hadRecentInput){let u=a[0],f=a[a.length-1];o&&u&&f&&l.startTime-f.startTime<1e3&&l.startTime-u.startTime<5e3?(o+=l.value,a.push(l)):(o=l.value,a=[l])}}),o>n.value&&(n.value=o,n.entries=a,r())},c=X1("layout-shift",i);c&&(r=d2(e,n,hi,t.reportAllChanges),s3(()=>{i(c.takeRecords()),r(!0)}),setTimeout(r,0))}))};var gi=[100,300],v9=(e,t={})=>{D2(()=>{let n=l3(),r=m2("FID"),o,a=s=>{s.startTime<n.firstHiddenTime&&(r.value=s.processingStart-s.startTime,r.entries.push(s),o(!0))},i=s=>{s.forEach(a)},c=X1("first-input",i);o=d2(e,r,gi,t.reportAllChanges),c&&s3(_4(()=>{i(c.takeRecords()),c.disconnect()}))})};var _9=0,Ut=1/0,R5=0,vi=e=>{e.forEach(t=>{t.interactionId&&(Ut=Math.min(Ut,t.interactionId),R5=Math.max(R5,t.interactionId),_9=R5?(R5-Ut)/7+1:0)})},Bt,S9=()=>Bt?_9:performance.interactionCount||0,b9=()=>{"interactionCount"in performance||Bt||(Bt=X1("event",vi,{type:"event",buffered:!0,durationThreshold:0}))};var _i=[200,500],Si=0,z9=()=>S9()-Si,C9=10,Z2=[],qt={},y9=e=>{let t=Z2[Z2.length-1],n=qt[e.interactionId];if(n||Z2.length<C9||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};qt[r.id]=r,Z2.push(r)}Z2.sort((r,o)=>o.latency-r.latency),Z2.splice(C9).forEach(r=>{delete qt[r.id]})}},bi=()=>{let e=Math.min(Z2.length-1,Math.floor(z9()/50));return Z2[e]},M9=(e,t={})=>{D2(()=>{b9();let n=m2("INP"),r,o=i=>{i.forEach(s=>{s.interactionId&&y9(s),s.entryType==="first-input"&&!Z2.some(u=>u.entries.some(f=>s.duration===f.duration&&s.startTime===f.startTime))&&y9(s)});let c=bi();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},a=X1("event",o,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=d2(e,n,_i,t.reportAllChanges),a&&("PerformanceEventTiming"in k&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),s3(()=>{o(a.takeRecords()),n.value<0&&z9()>0&&(n.value=0,n.entries=[]),r(!0)}))})};var Ci=[2500,4e3],E9={},x9=(e,t={})=>{D2(()=>{let n=l3(),r=m2("LCP"),o,a=c=>{let s=c[c.length-1];s&&s.startTime<n.firstHiddenTime&&(r.value=Math.max(s.startTime-c3(),0),r.entries=[s],o())},i=X1("largest-contentful-paint",a);if(i){o=d2(e,r,Ci,t.reportAllChanges);let c=_4(()=>{E9[r.id]||(a(i.takeRecords()),i.disconnect(),E9[r.id]=!0,o(!0))});["keydown","click"].forEach(s=>{k.document&&addEventListener(s,()=>setTimeout(c,0),!0)}),s3(c)}})};var yi=[800,1800],$t=e=>{k.document&&k.document.prerendering?D2(()=>$t(e)):k.document&&k.document.readyState!=="complete"?addEventListener("load",()=>$t(e),!0):setTimeout(e,0)},T9=(e,t={})=>{let n=m2("TTFB"),r=d2(e,n,yi,t.reportAllChanges);$t(()=>{let o=j2();if(o){let a=o.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-c3(),0),n.entries=[o],r(!0)}})};var se={},V5={},I9,N9,L9,w9,k9;function le(e,t=!1){return me("cls",e,zi,I9,t)}function fe(e,t=!1){return me("lcp",e,Ei,L9,t)}function ue(e){return me("fid",e,Mi,N9)}function Wt(e){return me("ttfb",e,xi,w9)}function de(e){return me("inp",e,Ti,k9)}function x2(e,t){return H9(e,t),V5[e]||(Ii(e),V5[e]=!0),A9(e,t)}function S4(e,t){let n=se[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(o){H1&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Z1(r)}
Error:`,o)}}function zi(){return g9(e=>{S4("cls",{metric:e}),I9=e},{reportAllChanges:!0})}function Mi(){return v9(e=>{S4("fid",{metric:e}),N9=e})}function Ei(){return x9(e=>{S4("lcp",{metric:e}),L9=e},{reportAllChanges:!0})}function xi(){return T9(e=>{S4("ttfb",{metric:e}),w9=e})}function Ti(){return M9(e=>{S4("inp",{metric:e}),k9=e})}function me(e,t,n,r,o=!1){H9(e,t);let a;return V5[e]||(a=n(),V5[e]=!0),r&&t({metric:r}),A9(e,t,o?a:void 0)}function Ii(e){let t={};e==="event"&&(t.durationThreshold=0),X1(e,n=>{S4(e,{entries:n})},t)}function H9(e,t){se[e]=se[e]||[],se[e].push(t)}function A9(e,t,n){return()=>{n&&n();let r=se[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function R9(e){return"duration"in e}function O5(e){return typeof e=="number"&&isFinite(e)}function R3(e,t,n,o){var r=qe(o,[]);let a=R(e).start_timestamp;return a&&a>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Q4(e,()=>{let i=I1(m({startTime:t},r));return i&&i.end(n),i})}function pe(){return k&&k.addEventListener&&k.performance}function h1(e){return e/1e3}var Ni=2147483647,V9=0,N1={},P2,he;function jt(){let e=pe();if(e&&M1){e.mark&&k.performance.mark("sentry-tracing-init");let t=ki(),n=Li(),r=wi(),o=Hi();return()=>{t(),n(),r(),o()}}return()=>{}}function Zt(){x2("longtask",({entries:e})=>{for(let t of e){if(!t1())return;let n=h1(M1+t.startTime),r=h1(t.duration),o=I1({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[J]:"auto.ui.browser.metrics"}});o&&o.end(n+r)}})}function Yt(){new PerformanceObserver(t=>{for(let n of t.getEntries()){if(!t1()||!n.scripts[0])return;let r=h1(M1+n.startTime),o=h1(n.duration),a={[J]:"auto.ui.browser.metrics"},i=n.scripts[0];if(i){let{invoker:s,invokerType:l,sourceURL:u,sourceFunctionName:f,sourceCharPosition:d}=i;a["browser.script.invoker"]=s,a["browser.script.invoker_type"]=l,u&&(a["code.filepath"]=u),f&&(a["code.function"]=f),d!==-1&&(a["browser.script.source_char_position"]=d)}let c=I1({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:a});c&&c.end(r+o)}}).observe({type:"long-animation-frame",buffered:!0})}function Kt(){x2("event",({entries:e})=>{for(let t of e){if(!t1())return;if(t.name==="click"){let n=h1(M1+t.startTime),r=h1(t.duration),o={name:j1(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[J]:"auto.ui.browser.metrics"}},a=D4(t.target);a&&(o.attributes["ui.component_name"]=a);let i=I1(o);i&&i.end(n+r)}}})}function Li(){return le(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(H1&&g.log("[Measurements] Adding CLS"),N1.cls={value:e.value,unit:""},he=t)},!0)}function wi(){return fe(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(H1&&g.log("[Measurements] Adding LCP"),N1.lcp={value:e.value,unit:"millisecond"},P2=t)},!0)}function ki(){return ue(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=h1(M1),r=h1(t.startTime);H1&&g.log("[Measurements] Adding FID"),N1.fid={value:e.value,unit:"millisecond"},N1["mark.fid"]={value:n+r,unit:"second"}})}function Hi(){return Wt(({metric:e})=>{e.entries[e.entries.length-1]&&(H1&&g.log("[Measurements] Adding TTFB"),N1.ttfb={value:e.value,unit:"millisecond"})})}function Xt(e){let t=pe();if(!t||!k.performance.getEntries||!M1)return;H1&&g.log("[Tracing] Adding & adjusting spans using Performance API");let n=h1(M1),r=t.getEntries(),{op:o,start_timestamp:a}=R(e);if(r.slice(V9).forEach(i=>{let c=h1(i.startTime),s=h1(Math.max(0,i.duration));if(!(o==="navigation"&&a&&n+c<a))switch(i.entryType){case"navigation":{Ri(e,i,n);break}case"mark":case"paint":case"measure":{Ai(e,i,c,s,n);let l=l3(),u=i.startTime<l.firstHiddenTime;i.name==="first-paint"&&u&&(H1&&g.log("[Measurements] Adding FP"),N1.fp={value:i.startTime,unit:"millisecond"}),i.name==="first-contentful-paint"&&u&&(H1&&g.log("[Measurements] Adding FCP"),N1.fcp={value:i.startTime,unit:"millisecond"});break}case"resource":{Oi(e,i,i.name,c,s,n);break}}}),V9=Math.max(r.length-1,0),Di(e),o==="pageload"){Fi(N1),["fcp","fp","lcp"].forEach(c=>{let s=N1[c];if(!s||!a||n>=a)return;let l=s.value,u=n+h1(l),f=Math.abs((u-a)*1e3),d=f-l;H1&&g.log(`[Measurements] Normalized ${c} from ${l} to ${f} (${d})`),s.value=f});let i=N1["mark.fid"];i&&N1.fid&&(R3(e,i.value,i.value+h1(N1.fid.value),{name:"first input delay",op:"ui.action",attributes:{[J]:"auto.ui.browser.metrics"}}),delete N1["mark.fid"]),"fcp"in N1||delete N1.cls,Object.entries(N1).forEach(([c,s])=>{z5(c,s.value,s.unit)}),Pi(e)}P2=void 0,he=void 0,N1={}}function Ai(e,t,n,r,o){let a=j2(),i=h1(a?a.requestStart:0),c=o+Math.max(n,i),s=o+n,l=s+r,u={[J]:"auto.resource.browser.metrics"};return c!==s&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=c),R3(e,c,l,{name:t.name,op:t.entryType,attributes:u}),c}function Ri(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{D5(e,t,r,n)}),D5(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),D5(e,t,"fetch",n,"cache","domainLookupStart"),D5(e,t,"domainLookup",n,"DNS"),Vi(e,t,n)}function D5(e,t,n,r,o,a){let i=a?t[a]:t[`${n}End`],c=t[`${n}Start`];!c||!i||R3(e,r+h1(c),r+h1(i),{op:"browser",name:o||n,attributes:{[J]:"auto.ui.browser.metrics"}})}function Vi(e,t,n){let r=n+h1(t.requestStart),o=n+h1(t.responseEnd),a=n+h1(t.responseStart);t.responseEnd&&(R3(e,r,o,{op:"browser",name:"request",attributes:{[J]:"auto.ui.browser.metrics"}}),R3(e,a,o,{op:"browser",name:"response",attributes:{[J]:"auto.ui.browser.metrics"}}))}function Oi(e,t,n,r,o,a){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let i=l2(n),c={[J]:"auto.resource.browser.metrics"};Gt(c,t,"transferSize","http.response_transfer_size"),Gt(c,t,"encodedBodySize","http.response_content_length"),Gt(c,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),i.protocol&&(c["url.scheme"]=i.protocol.split(":").pop()),i.host&&(c["server.address"]=i.host),c["url.same_origin"]=n.includes(k.location.origin);let s=a+r,l=s+o;R3(e,s,l,{name:n.replace(k.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})}function Di(e){let t=k.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),O5(n.rtt)&&(N1["connection.rtt"]={value:n.rtt,unit:"millisecond"})),O5(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),O5(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Pi(e){P2&&(H1&&g.log("[Measurements] Adding LCP Data"),P2.element&&e.setAttribute("lcp.element",j1(P2.element)),P2.id&&e.setAttribute("lcp.id",P2.id),P2.url&&e.setAttribute("lcp.url",P2.url.trim().slice(0,200)),e.setAttribute("lcp.size",P2.size)),he&&he.sources&&(H1&&g.log("[Measurements] Adding CLS Data"),he.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,j1(t.node))))}function Gt(e,t,n,r){let o=t[n];o!=null&&o<Ni&&(e[r]=o)}function Fi(e){let t=j2();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(H1&&g.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var Ui=1e3,O9,Jt,Qt;function ge(e){let t="dom";V1(t,e),O1(t,Bi)}function Bi(){if(!k.document)return;let e=T1.bind(null,"dom"),t=D9(e,!0);k.document.addEventListener("click",t,!1),k.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let r=k[n]&&k[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(i1(r,"addEventListener",function(o){return function(a,i,c){if(a==="click"||a=="keypress")try{let s=this,l=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},u=l[a]=l[a]||{refCount:0};if(!u.handler){let f=D9(e);u.handler=f,o.call(this,a,f,c)}u.refCount++}catch{}return o.call(this,a,i,c)}}),i1(r,"removeEventListener",function(o){return function(a,i,c){if(a==="click"||a=="keypress")try{let s=this,l=s.__sentry_instrumentation_handlers__||{},u=l[a];u&&(u.refCount--,u.refCount<=0&&(o.call(this,a,u.handler,c),u.handler=void 0,delete l[a]),Object.keys(l).length===0&&delete s.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,i,c)}}))})}function qi(e){if(e.type!==Jt)return!1;try{if(!e.target||e.target._sentryId!==Qt)return!1}catch{}return!0}function $i(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function D9(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=Wi(n);if($i(n.type,r))return;y1(n,"_sentryCaptured",!0),r&&!r._sentryId&&y1(r,"_sentryId",$());let o=n.type==="keypress"?"input":n.type;qi(n)||(e({event:n,name:o,global:t}),Jt=n.type,Qt=r?r._sentryId:void 0),clearTimeout(O9),O9=k.setTimeout(()=>{Qt=void 0,Jt=void 0},Ui)}}function Wi(e){try{return e.target}catch{return null}}var P5;function Y2(e){let t="history";V1(t,e),O1(t,Gi)}function Gi(){if(!ht())return;let e=k.onpopstate;k.onpopstate=function(...n){let r=k.location.href,o=P5;if(P5=r,T1("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let o=r.length>2?r[2]:void 0;if(o){let a=P5,i=String(o);P5=i,T1("history",{from:a,to:i})}return n.apply(this,r)}}i1(k.history,"pushState",t),i1(k.history,"replaceState",t)}var F5={};function U5(e){let t=F5[e];if(t)return t;let n=k[e];if(F4(n))return F5[e]=n.bind(k);let r=k.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let a=o.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(o)}catch(o){H1&&g.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(F5[e]=n.bind(k))}function B5(e){F5[e]=void 0}function K2(...e){return U5("setTimeout")(...e)}var T2="__sentry_xhr_v3__";function ve(e){let t="xhr";V1(t,e),O1(t,ji)}function ji(){if(!k.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;i1(e,"open",function(t){return function(...n){let r=p1()*1e3,o=w1(n[0])?n[0].toUpperCase():void 0,a=Zi(n[1]);if(!o||!a)return t.apply(this,n);this[T2]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let c=this[T2];if(c&&this.readyState===4){try{c.status_code=this.status}catch{}let s={endTimestamp:p1()*1e3,startTimestamp:r,xhr:this};T1("xhr",s)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?i1(this,"onreadystatechange",function(c){return function(...s){return i(),c.apply(this,s)}}):this.addEventListener("readystatechange",i),i1(this,"setRequestHeader",function(c){return function(...s){let[l,u]=s,f=this[T2];return f&&w1(l)&&w1(u)&&(f.request_headers[l.toLowerCase()]=u),c.apply(this,s)}}),t.apply(this,n)}}),i1(e,"send",function(t){return function(...n){let r=this[T2];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);let o={startTimestamp:p1()*1e3,xhr:this};return T1("xhr",o),t.apply(this,n)}})}function Zi(e){if(w1(e))return e;try{return e.toString()}catch{}}var e8=[],q5=new Map;function t8(){if(pe()&&M1){let t=Yi();return()=>{t()}}return()=>{}}var P9={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Yi(){return de(({metric:e})=>{let t=N();if(!t||e.value==null)return;let n=e.entries.find(v=>v.duration===e.value&&P9[v.name]);if(!n)return;let{interactionId:r}=n,o=P9[n.name],a=t.getOptions(),i=h1(M1+n.startTime),c=h1(e.value),s=D(),l=t1(),u=l?Z(l):void 0,d=(r!=null?q5.get(r):void 0)||u,p=d?R(d).description:s.getScopeData().transactionName,h=s.getUser(),S=t.getIntegrationByName("Replay"),C=S&&S.getReplayId(),b=h!==void 0?h.email||h.id||h.ip_address:void 0,E;try{E=s.getScopeData().contexts.profile.profile_id}catch{}let I=j1(n.target),T=X({release:a.release,environment:a.environment,transaction:p,[J4]:e.value,[J]:"auto.http.browser.inp",user:b||void 0,profile_id:E||void 0,replay_id:C||void 0,"user_agent.original":k.navigator&&k.navigator.userAgent}),y=I1({name:I,op:`ui.interaction.${o}`,attributes:T,startTime:i,experimental:{standalone:!0}});y.addEvent("inp",{[i4]:"millisecond",[c4]:e.value}),y.end(i+c)})}function n8(e){let t=({entries:n})=>{let r=t1(),o=r&&Z(r);n.forEach(a=>{if(!R9(a)||!o)return;let i=a.interactionId;if(i!=null&&!q5.has(i)){if(e8.length>10){let c=e8.shift();q5.delete(c)}e8.push(i),q5.set(i,o)}})};x2("event",t),x2("first-input",t)}function F9(e,t=U5("fetch")){let n=0,r=0;function o(a){let i=a.body.length;n+=i,r++;let c=m({body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return B5("fetch"),t3("No fetch implementation available");try{return t(e.url,c).then(s=>(n-=i,r--,{statusCode:s.status,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")}}))}catch(s){return B5("fetch"),n-=i,r--,t3(s)}}return N5(e,o)}var Ki=30;var Xi=50;function r8(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?V2:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var Ji=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Qi=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ec=/\((\S*)(?::(\d+))(?::(\d+))\)/,tc=e=>{let t=Ji.exec(e);if(t){let[,r,o,a]=t;return r8(r,V2,+o,+a)}let n=Qi.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let i=ec.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}let[o,a]=B9(n[1]||V2,n[2]);return r8(a,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},nc=[Ki,tc],rc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,oc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ac=e=>{let t=rc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let a=oc.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],o=t[1]||V2;return[o,r]=B9(o,r),r8(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ic=[Xi,ac];var cc=[nc,ic],U9=s5(...cc),B9=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:V2,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var $5=1024,sc="Breadcrumbs",lc=(e={})=>{let t=m({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:sc,setup(n){t.console&&K6(dc(n)),t.dom&&ge(uc(n,t.dom)),t.xhr&&ve(mc(n)),t.fetch&&B4(pc(n)),t.history&&Y2(hc(n)),t.sentry&&n.on("beforeSendEvent",fc(n))}}},_e=lc;function fc(e){return function(n){N()===e&&u2({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:C2(n)},{event:n})}}function uc(e,t){return function(r){if(N()!==e)return;let o,a,i=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>$5&&(E1&&g.warn(`\`dom.maxStringLength\` cannot exceed ${$5}, but a value of ${c} was configured. Sentry will use ${$5} instead.`),c=$5),typeof i=="string"&&(i=[i]);try{let l=r.event,u=gc(l)?l.target:l;o=j1(u,{keyAttrs:i,maxStringLength:c}),a=D4(u)}catch{o="<unknown>"}if(o.length===0)return;let s={category:`ui.${r.name}`,message:o};a&&(s.data={"ui.component_name":a}),u2(s,{event:r.event,name:r.name,global:r.global})}}function dc(e){return function(n){if(N()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:at(n.level),message:r5(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${r5(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;u2(r,{input:n.args,level:n.level})}}function mc(e){return function(n){if(N()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,a=n.xhr[T2];if(!r||!o||!a)return;let{method:i,url:c,status_code:s,body:l}=a,u={method:i,url:c,status_code:s},f={xhr:n.xhr,input:l,startTimestamp:r,endTimestamp:o};u2({category:"xhr",data:u,type:"http"},f)}}function pc(e){return function(n){if(N()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let a=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};u2({category:"fetch",data:a,level:"error",type:"http"},i)}else{let a=n.response,i=w(m({},n.fetchData),{status_code:a&&a.status}),c={input:n.args,response:a,startTimestamp:r,endTimestamp:o};u2({category:"fetch",data:i,type:"http"},c)}}}function hc(e){return function(n){if(N()!==e)return;let r=n.from,o=n.to,a=l2(A.location.href),i=r?l2(r):void 0,c=l2(o);(!i||!i.path)&&(i=a),a.protocol===c.protocol&&a.host===c.host&&(o=c.relative),a.protocol===i.protocol&&a.host===i.host&&(r=i.relative),u2({category:"navigation",data:{from:r,to:o}})}}function gc(e){return!!e&&!!e.target}var vc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],_c="BrowserApiErrors",Sc=(e={})=>{let t=m({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:_c,setupOnce(){t.setTimeout&&i1(A,"setTimeout",q9),t.setInterval&&i1(A,"setInterval",q9),t.requestAnimationFrame&&i1(A,"requestAnimationFrame",bc),t.XMLHttpRequest&&"XMLHttpRequest"in A&&i1(XMLHttpRequest.prototype,"send",Cc);let n=t.eventTarget;n&&(Array.isArray(n)?n:vc).forEach(yc)}}},$9=Sc;function q9(e){return function(...t){let n=t[0];return t[0]=A3(n,{mechanism:{data:{function:Z1(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function bc(e){return function(t){return e.apply(this,[A3(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Z1(e)},handled:!1,type:"instrument"}})])}}function Cc(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&i1(n,o,function(a){let i={mechanism:{data:{function:o,handler:Z1(a)},handled:!1,type:"instrument"}},c=x3(a);return c&&(i.mechanism.data.handler=Z1(c)),A3(a,i)})}),e.apply(this,t)}}function yc(e){let t=A,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(i1(n,"addEventListener",function(r){return function(o,a,i){try{typeof a.handleEvent=="function"&&(a.handleEvent=A3(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Z1(a),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,A3(a,{mechanism:{data:{function:"addEventListener",handler:Z1(a),target:e},handled:!1,type:"instrument"}}),i])}}),i1(n,"removeEventListener",function(r){return function(o,a,i){let c=a;try{let s=c&&c.__sentry_wrapped__;s&&r.call(this,o,s,i)}catch{}return r.call(this,o,c,i)}}))}var zc="GlobalHandlers",Mc=(e={})=>{let t=m({onerror:!0,onunhandledrejection:!0},e);return{name:zc,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Ec(n),W9("onerror")),t.onunhandledrejection&&(xc(n),W9("onunhandledrejection"))}}},Se=Mc;function Ec(e){q4(t=>{let{stackParser:n,attachStacktrace:r}=G9();if(N()!==e||Ot())return;let{msg:o,url:a,line:i,column:c,error:s}=t,l=Nc(k5(n,s||o,void 0,r,!1),a,i,c);l.level="error",ne(l,{originalException:s,mechanism:{handled:!1,type:"onerror"}})})}function xc(e){$4(t=>{let{stackParser:n,attachStacktrace:r}=G9();if(N()!==e||Ot())return;let o=Tc(t),a=z3(o)?Ic(o):k5(n,o,void 0,r,!0);a.level="error",ne(a,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Tc(e){if(z3(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Ic(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Nc(e,t,n,r){let o=e.exception=e.exception||{},a=o.values=o.values||[],i=a[0]=a[0]||{},c=i.stacktrace=i.stacktrace||{},s=c.frames=c.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,f=w1(t)&&t.length>0?t:E3();return s.length===0&&s.push({colno:l,filename:f,function:V2,in_app:!0,lineno:u}),e}function W9(e){E1&&g.log(`Global Handler attached: ${e}`)}function G9(){let e=N();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var be=()=>({name:"HttpContext",preprocessEvent(e){if(!A.navigator&&!A.location&&!A.document)return;let t=e.request&&e.request.url||A.location&&A.location.href,{referrer:n}=A.document||{},{userAgent:r}=A.navigator||{},o=m(m(m({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),a=w(m(m({},e.request),t&&{url:t}),{headers:o});e.request=a}});var Lc="cause",wc=5,kc="LinkedErrors",Hc=(e={})=>{let t=e.limit||wc,n=e.key||Lc;return{name:kc,preprocessEvent(r,o,a){let i=a.getOptions();q6(w5,i.stackParser,i.maxValueLength,n,t,r,o)}}},Ce=Hc;function j9(e){return[h4(),p4(),$9(),_e(),Se(),Ce(),g4(),be()]}function Ac(e={}){let t={defaultIntegrations:j9(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:A.SENTRY_RELEASE&&A.SENTRY_RELEASE.id?A.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return m(m({},t),e)}function Rc(){let e=A,t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,o=A.location&&A.location.href||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:"],i=!!r&&A===A.top&&a.some(s=>o.startsWith(`${s}//`)),c=typeof e.nw<"u";return!!r&&!i&&!c}function o8(e={}){let t=Ac(e);if(Rc()){s2(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}E1&&(u5()||g.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let n=w(m({},t),{stackParser:Y6(t.stackParser||U9),integrations:It(t),transport:t.transport||F9}),r=kt(H5,n);return t.autoSessionTracking&&Vc(),r}function Vc(){if(typeof A.document>"u"){E1&&g.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}re({ignoreDuration:!0}),oe(),Y2(({from:e,to:t})=>{e!==void 0&&e!==t&&(re({ignoreDuration:!0}),oe())})}var Oc={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},Z9=A;function Y9(e){return G(this,null,function*(){let t=Oc[e],n=Z9.Sentry=Z9.Sentry||{};if(!t)throw new Error(`Cannot lazy load integration: ${e}`);let r=n[e];if(typeof r=="function")return r;let o=Dc(t),a=A.document.createElement("script");a.src=o,a.crossOrigin="anonymous",a.referrerPolicy="origin";let i=new Promise((s,l)=>{a.addEventListener("load",()=>s()),a.addEventListener("error",l)});A.document.body.appendChild(a);try{yield i}catch{throw new Error(`Error when loading integration: ${e}`)}let c=n[e];if(typeof c!="function")throw new Error(`Could not load integration: ${e}`);return c})}function Dc(e){let t=N(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${R1}/${e}.min.js`,r).toString()}var s1=H,w8="sentryReplaySession",Pc="replay_event",k8="Unable to send Replay",Fc=3e5,Uc=9e5,Bc=5e3,qc=5500,$c=6e4,Wc=5e3,Gc=3,K9=15e4,W5=5e3,jc=3e3,Zc=300,H8=2e7,Yc=4999,Kc=15e3,X9=36e5;function s8(e,t){return e??t()}function xe(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],a=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=a(n)):(o==="call"||o==="optionalCall")&&(n=a((...i)=>n.call(t,...i)),t=void 0)}return n}var L1=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(L1||{});function Xc(e){return e.nodeType===e.ELEMENT_NODE}function ze(e){let t=xe([e,"optionalAccess",n=>n.host]);return xe([t,"optionalAccess",n=>n.shadowRoot])===e}function Me(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Jc(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Qc(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Y5(e){try{let t=e.rules||e.cssRules;return t?Jc(Array.from(t,vn).join("")):null}catch{return null}}function vn(e){let t;if(ts(e))try{t=Y5(e.styleSheet)||Qc(e)}catch{}else if(ns(e)&&e.selectorText.includes(":"))return es(e.cssText);return t||e.cssText}function es(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function ts(e){return"styleSheet"in e}function ns(e){return"selectorText"in e}var K5=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=xe([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return s8(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function rs(){return new K5}function l6({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Te({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function x4(e){return e.toLowerCase()}function l8(e){return e.toUpperCase()}var J9="__rrweb_original__";function os(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let a=t.getImageData,i=J9 in a?a[J9]:a;if(new Uint32Array(i.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(s=>s!==0))return!1}return!0}function A8(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?x4(t):null}function X5(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function _n(e,t){let n;try{n=new URL(e,s8(t,()=>window.location.href))}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i,o=n.pathname.match(r);return s8(xe([o,"optionalAccess",a=>a[1]]),()=>null)}var Q9={};function Sn(e){let t=Q9[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let a=o.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(o)}catch{}return Q9[e]=r.bind(window)}function f8(...e){return Sn("setTimeout")(...e)}function bn(...e){return Sn("clearTimeout")(...e)}var as=1,is=new RegExp("[^a-z0-9-_:]"),Ie=-2;function R8(){return as++}function cs(e){if(e instanceof HTMLFormElement)return"form";let t=x4(e.tagName);return is.test(t)?"div":t}function ss(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var b4,en,ls=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,fs=/^(?:[a-z+]+:)?\/\//i,us=/^www\..*/i,ds=/^(data:)([^,]*),(.*)/i;function J5(e,t){return(e||"").replace(ls,(n,r,o,a,i,c)=>{let s=o||i||c,l=r||a||"";if(!s)return n;if(fs.test(s)||us.test(s))return`url(${l}${s}${l})`;if(ds.test(s))return`url(${l}${s}${l})`;if(s[0]==="/")return`url(${l}${ss(t)+s}${l})`;let u=t.split("/"),f=s.split("/");u.pop();for(let d of f)d!=="."&&(d===".."?u.pop():u.push(d));return`url(${l}${u.join("/")}${l})`})}var ms=/^[^ \t\n\r\u000c]+/,ps=/^[, \t\n\r\u000c]+/;function hs(e,t){if(t.trim()==="")return t;let n=0;function r(a){let i,c=a.exec(t.substring(n));return c?(i=c[0],n+=i.length,i):""}let o=[];for(;r(ps),!(n>=t.length);){let a=r(ms);if(a.slice(-1)===",")a=y4(e,a.substring(0,a.length-1)),o.push(a);else{let i="";a=y4(e,a);let c=!1;for(;;){let s=t.charAt(n);if(s===""){o.push((a+i).trim());break}else if(c)s===")"&&(c=!1);else if(s===","){n+=1,o.push((a+i).trim());break}else s==="("&&(c=!0);i+=s,n+=1}}}return o.join(", ")}function y4(e,t){if(!t||t.trim()==="")return t;let n=e.createElement("a");return n.href=t,n.href}function gs(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function V8(){let e=document.createElement("a");return e.href="",e.href}function Cn(e,t,n,r,o,a){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?y4(e,r):n==="srcset"?hs(e,r):n==="style"?J5(r,V8()):t==="object"&&n==="data"?y4(e,r):typeof a=="function"?a(n,r,o):r)}function yn(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function vs(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let a=e.classList[o];if(t.test(a))return!0}if(n)return e.matches(n)}catch{}return!1}function _s(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function V3(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:V3(e.parentNode,t,n,r+1)}function z4(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(_s(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function T4(e,t,n,r,o,a){try{let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){let l=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(l))return!0}let c=-1,s=-1;if(a){if(s=V3(i,z4(r,o)),s<0)return!0;c=V3(i,z4(t,n),s>=0?s:1/0)}else{if(c=V3(i,z4(t,n)),c<0)return!1;s=V3(i,z4(r,o),c>=0?c:1/0)}return c>=0?s>=0?c<=s:!0:s>=0?!1:!!a}catch{}return!!a}function Ss(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,a;try{a=r.document.readyState}catch{return}if(a!=="complete"){let c=f8(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{bn(c),o=!0,t()});return}let i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return f8(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function bs(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let a=f8(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{bn(a),r=!0,t()})}function Cs(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:a,unblockSelector:i,maskAllText:c,maskAttributeFn:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:S,maskInputFn:C,dataURLOptions:b={},inlineImages:E,recordCanvas:I,keepIframeSrcFn:T,newlyAddedElement:y=!1}=t,v=ys(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:L1.Document,childNodes:[],compatMode:e.compatMode}:{type:L1.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:L1.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:v};case e.ELEMENT_NODE:return Ms(e,{doc:n,blockClass:o,blockSelector:a,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:s,maskInputOptions:h,maskInputFn:C,dataURLOptions:b,inlineImages:E,recordCanvas:I,keepIframeSrcFn:T,newlyAddedElement:y,rootId:v,maskAllText:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d});case e.TEXT_NODE:return zs(e,{maskAllText:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,maskTextFn:S,maskInputOptions:h,maskInputFn:C,rootId:v});case e.CDATA_SECTION_NODE:return{type:L1.CDATA,textContent:"",rootId:v};case e.COMMENT_NODE:return{type:L1.Comment,textContent:e.textContent||"",rootId:v};default:return!1}}function ys(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function zs(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:a,unmaskTextSelector:i,maskTextFn:c,maskInputOptions:s,maskInputFn:l,rootId:u}=t,f=e.parentNode&&e.parentNode.tagName,d=e.textContent,p=f==="STYLE"?!0:void 0,h=f==="SCRIPT"?!0:void 0,S=f==="TEXTAREA"?!0:void 0;if(p&&d){try{e.nextSibling||e.previousSibling||xe([e,"access",b=>b.parentNode,"access",b=>b.sheet,"optionalAccess",b=>b.cssRules])&&(d=Y5(e.parentNode.sheet))}catch(b){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${b}`,e)}d=J5(d,V8())}h&&(d="SCRIPT_PLACEHOLDER");let C=T4(e,r,a,o,i,n);if(!p&&!h&&!S&&d&&C&&(d=c?c(d,e.parentElement):d.replace(/[\S]/g,"*")),S&&d&&(s.textarea||C)&&(d=l?l(d,e.parentNode):d.replace(/[\S]/g,"*")),f==="OPTION"&&d){let b=l6({type:null,tagName:f,maskInputOptions:s});d=Te({isMasked:T4(e,r,a,o,i,b),element:e,value:d,maskInputFn:l})}return{type:L1.Text,textContent:d||"",isStyle:p,rootId:u}}function Ms(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:a,inlineStylesheet:i,maskInputOptions:c={},maskAttributeFn:s,maskInputFn:l,dataURLOptions:u={},inlineImages:f,recordCanvas:d,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:S,maskAllText:C,maskTextClass:b,unmaskTextClass:E,maskTextSelector:I,unmaskTextSelector:T}=t,y=vs(e,r,o,a),v=cs(e),_={},z=e.attributes.length;for(let M=0;M<z;M++){let x=e.attributes[M];x.name&&!yn(v,x.name,x.value)&&(_[x.name]=Cn(n,v,x4(x.name),x.value,e,s))}if(v==="link"&&i){let M=Array.from(n.styleSheets).find(O=>O.href===e.href),x=null;M&&(x=Y5(M)),x&&(delete _.rel,delete _.href,_._cssText=J5(x,M.href))}if(v==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let M=Y5(e.sheet);M&&(_._cssText=J5(M,V8()))}if(v==="input"||v==="textarea"||v==="select"||v==="option"){let M=e,x=A8(M),O=X5(M,l8(v),x),Q=M.checked;if(x!=="submit"&&x!=="button"&&O){let e1=T4(M,b,I,E,T,l6({type:x,tagName:l8(v),maskInputOptions:c}));_.value=Te({isMasked:e1,element:M,value:O,maskInputFn:l})}Q&&(_.checked=Q)}if(v==="option"&&(e.selected&&!c.select?_.selected=!0:delete _.selected),v==="canvas"&&d){if(e.__context==="2d")os(e)||(_.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){let M=e.toDataURL(u.type,u.quality),x=document.createElement("canvas");x.width=e.width,x.height=e.height;let O=x.toDataURL(u.type,u.quality);M!==O&&(_.rr_dataURL=M)}}if(v==="img"&&f){b4||(b4=n.createElement("canvas"),en=b4.getContext("2d"));let M=e,x=M.crossOrigin;M.crossOrigin="anonymous";let O=()=>{M.removeEventListener("load",O);try{b4.width=M.naturalWidth,b4.height=M.naturalHeight,en.drawImage(M,0,0),_.rr_dataURL=b4.toDataURL(u.type,u.quality)}catch(Q){console.warn(`Cannot inline img src=${M.currentSrc}! Error: ${Q}`)}x?_.crossOrigin=x:M.removeAttribute("crossorigin")};M.complete&&M.naturalWidth!==0?O():M.addEventListener("load",O)}if((v==="audio"||v==="video")&&(_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop)),y){let{width:M,height:x}=e.getBoundingClientRect();_={class:_.class,rr_width:`${M}px`,rr_height:`${x}px`}}v==="iframe"&&!p(_.src)&&(!y&&!e.contentDocument&&(_.rr_src=_.src),delete _.src);let L;try{customElements.get(v)&&(L=!0)}catch{}return{type:L1.Element,tagName:v,attributes:_,childNodes:[],isSVG:gs(e)||void 0,needBlock:y,rootId:S,isCustom:L}}function c1(e){return e==null?"":e.toLowerCase()}function Es(e,t){if(t.comment&&e.type===L1.Comment)return!0;if(e.type===L1.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&_n(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(c1(e.attributes.name).match(/^msapplication-tile(image|color)$/)||c1(e.attributes.name)==="application-name"||c1(e.attributes.rel)==="icon"||c1(e.attributes.rel)==="apple-touch-icon"||c1(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&c1(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(c1(e.attributes.property).match(/^(og|twitter|fb):/)||c1(e.attributes.name).match(/^(og|twitter):/)||c1(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(c1(e.attributes.name)==="robots"||c1(e.attributes.name)==="googlebot"||c1(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(c1(e.attributes.name)==="author"||c1(e.attributes.name)==="generator"||c1(e.attributes.name)==="framework"||c1(e.attributes.name)==="publisher"||c1(e.attributes.name)==="progid"||c1(e.attributes.property).match(/^article:/)||c1(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(c1(e.attributes.name)==="google-site-verification"||c1(e.attributes.name)==="yandex-verification"||c1(e.attributes.name)==="csrf-token"||c1(e.attributes.name)==="p:domain_verify"||c1(e.attributes.name)==="verify-v1"||c1(e.attributes.name)==="verification"||c1(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function M4(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:a,unblockSelector:i,maskAllText:c,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:d=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:S,maskTextFn:C,maskInputFn:b,slimDOMOptions:E,dataURLOptions:I={},inlineImages:T=!1,recordCanvas:y=!1,onSerialize:v,onIframeLoad:_,iframeLoadTimeout:z=5e3,onStylesheetLoad:L,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:O=!1}=t,{preserveWhiteSpace:Q=!0}=t,e1=Cs(e,{doc:n,mirror:r,blockClass:o,blockSelector:a,maskAllText:c,unblockSelector:i,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:S,maskTextFn:C,maskInputFn:b,dataURLOptions:I,inlineImages:T,recordCanvas:y,keepIframeSrcFn:x,newlyAddedElement:O});if(!e1)return console.warn(e,"not serialized"),null;let v1;r.hasNode(e)?v1=r.getId(e):Es(e1,E)||!Q&&e1.type===L1.Text&&!e1.isStyle&&!e1.textContent.replace(/^\s+|\s+$/gm,"").length?v1=Ie:v1=R8();let P=Object.assign(e1,{id:v1});if(r.add(e,P),v1===Ie)return null;v&&v(e);let C1=!d;if(P.type===L1.Element){C1=C1&&!P.needBlock,delete P.needBlock;let F=e.shadowRoot;F&&Me(F)&&(P.isShadowHost=!0)}if((P.type===L1.Document||P.type===L1.Element)&&C1){E.headWhitespace&&P.type===L1.Element&&P.tagName==="head"&&(Q=!1);let F={doc:n,mirror:r,blockClass:o,blockSelector:a,maskAllText:c,unblockSelector:i,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:S,maskTextFn:C,maskInputFn:b,slimDOMOptions:E,dataURLOptions:I,inlineImages:T,recordCanvas:y,preserveWhiteSpace:Q,onSerialize:v,onIframeLoad:_,iframeLoadTimeout:z,onStylesheetLoad:L,stylesheetLoadTimeout:M,keepIframeSrcFn:x};for(let l1 of Array.from(e.childNodes)){let B1=M4(l1,F);B1&&P.childNodes.push(B1)}if(Xc(e)&&e.shadowRoot)for(let l1 of Array.from(e.shadowRoot.childNodes)){let B1=M4(l1,F);B1&&(Me(e.shadowRoot)&&(B1.isShadow=!0),P.childNodes.push(B1))}}return e.parentNode&&ze(e.parentNode)&&Me(e.parentNode)&&(P.isShadow=!0),P.type===L1.Element&&P.tagName==="iframe"&&Ss(e,()=>{let F=e.contentDocument;if(F&&_){let l1=M4(F,{doc:F,mirror:r,blockClass:o,blockSelector:a,unblockSelector:i,maskAllText:c,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:S,maskTextFn:C,maskInputFn:b,slimDOMOptions:E,dataURLOptions:I,inlineImages:T,recordCanvas:y,preserveWhiteSpace:Q,onSerialize:v,onIframeLoad:_,iframeLoadTimeout:z,onStylesheetLoad:L,stylesheetLoadTimeout:M,keepIframeSrcFn:x});l1&&_(e,l1)}},z),P.type===L1.Element&&P.tagName==="link"&&typeof P.attributes.rel=="string"&&(P.attributes.rel==="stylesheet"||P.attributes.rel==="preload"&&typeof P.attributes.href=="string"&&_n(P.attributes.href)==="css")&&bs(e,()=>{if(L){let F=M4(e,{doc:n,mirror:r,blockClass:o,blockSelector:a,unblockSelector:i,maskAllText:c,maskTextClass:s,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:S,maskTextFn:C,maskInputFn:b,slimDOMOptions:E,dataURLOptions:I,inlineImages:T,recordCanvas:y,preserveWhiteSpace:Q,onSerialize:v,onIframeLoad:_,iframeLoadTimeout:z,onStylesheetLoad:L,stylesheetLoadTimeout:M,keepIframeSrcFn:x});F&&L(e,F)}},M),P}function xs(e,t){let{mirror:n=new K5,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:a=null,maskAllText:i=!1,maskTextClass:c="rr-mask",unmaskTextClass:s=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:f=!0,inlineImages:d=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:S,maskTextFn:C,maskInputFn:b,slimDOM:E=!1,dataURLOptions:I,preserveWhiteSpace:T,onSerialize:y,onIframeLoad:v,iframeLoadTimeout:_,onStylesheetLoad:z,stylesheetLoadTimeout:L,keepIframeSrcFn:M=()=>!1}=t||{};return M4(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:a,maskAllText:i,maskTextClass:c,unmaskTextClass:s,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:S,maskTextFn:C,maskInputFn:b,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:I,inlineImages:d,recordCanvas:p,preserveWhiteSpace:T,onSerialize:y,onIframeLoad:v,iframeLoadTimeout:_,onStylesheetLoad:z,stylesheetLoadTimeout:L,keepIframeSrcFn:M,newlyAddedElement:!1})}function f3(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],a=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=a(n)):(o==="call"||o==="optionalCall")&&(n=a((...i)=>n.call(t,...i)),t=void 0)}return n}function U1(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var C4=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,tn={map:{},getId(){return console.error(C4),-1},getNode(){return console.error(C4),null},removeNodeFromMap(){console.error(C4)},has(){return console.error(C4),!1},reset(){console.error(C4)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(tn=new Proxy(tn,{get(e,t,n){return t==="map"&&console.error(C4),Reflect.get(e,t,n)}}));function Ne(e,t,n={}){let r=null,o=0;return function(...a){let i=Date.now();!o&&n.leading===!1&&(o=i);let c=t-(i-o),s=this;c<=0||c>t?(r&&(ks(r),r=null),o=i,e.apply(s,a)):!r&&n.trailing!==!1&&(r=f6(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(s,a)},c))}}function zn(e,t,n,r,o=window){let a=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(i){f6(()=>{n.set.call(this,i)},0),a&&a.set&&a.set.call(this,i)}}),()=>zn(e,t,a||{},!0)}function O8(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var Q5=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Q5=()=>new Date().getTime());function Mn(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:f3([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||f3([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||f3([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:f3([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||f3([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||f3([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function En(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function xn(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Tn(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function L2(e,t,n,r,o){if(!e)return!1;let a=Tn(e);if(!a)return!1;let i=z4(t,n);if(!o){let l=r&&a.matches(r);return i(a)&&!l}let c=V3(a,i),s=-1;return c<0?!1:(r&&(s=V3(a,z4(null,r))),c>-1&&s<0?!0:c<s)}function Ts(e,t){return t.getId(e)!==-1}function a8(e,t){return t.getId(e)===Ie}function In(e,t){if(ze(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?In(e.parentNode,t):!0:!0}function u8(e){return!!e.changedTouches}function Is(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Nn(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Ln(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function d8(e){return!!f3([e,"optionalAccess",t=>t.shadowRoot])}var m8=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return pt(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function wn(e){let t=null;return f3([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Ns(e){let t=e,n;for(;n=wn(t);)t=n;return t}function Ls(e){let t=e.ownerDocument;if(!t)return!1;let n=Ns(e);return t.contains(n)}function kn(e){let t=e.ownerDocument;return t?t.contains(e)||Ls(e):!1}var nn={};function D8(e){let t=nn[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let a=o.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(o)}catch{}return nn[e]=r.bind(window)}function ws(...e){return D8("requestAnimationFrame")(...e)}function f6(...e){return D8("setTimeout")(...e)}function ks(...e){return D8("clearTimeout")(...e)}var U=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(U||{}),B=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(B||{}),F1=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(F1||{}),X2=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(X2||{});function Hs(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],a=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=a(n)):(o==="call"||o==="optionalCall")&&(n=a((...i)=>n.call(t,...i)),t=void 0)}return n}function rn(e){return"__ln"in e}var p8=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=Hs([n,"optionalAccess",o=>o.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&rn(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&rn(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},on=(e,t)=>`${e}@${t}`,h8=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new p8,o=s=>{let l=s,u=Ie;for(;u===Ie;)l=l&&l.nextSibling,u=l&&this.mirror.getId(l);return u},a=s=>{if(!s.parentNode||!kn(s))return;let l=ze(s.parentNode)?this.mirror.getId(wn(s)):this.mirror.getId(s.parentNode),u=o(s);if(l===-1||u===-1)return r.addNode(s);let f=M4(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:d=>{Nn(d,this.mirror)&&this.iframeManager.addIframe(d),Ln(d,this.mirror)&&this.stylesheetManager.trackLinkElement(d),d8(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(d,p)=>{this.iframeManager.attachIframe(d,p),d.contentWindow&&this.canvasManager.addWindow(d.contentWindow),this.shadowDomManager.observeAttachShadow(d)},onStylesheetLoad:(d,p)=>{this.stylesheetManager.attachLinkElement(d,p)}});f&&(t.push({parentId:l,nextId:u,node:f}),n.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let s of this.movedSet)an(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)||a(s);for(let s of this.addedSet)!cn(this.droppedSet,s)&&!an(this.removes,s,this.mirror)||cn(this.movedSet,s)?a(s):this.droppedSet.add(s);let i=null;for(;r.length;){let s=null;if(i){let l=this.mirror.getId(i.value.parentNode),u=o(i.value);l!==-1&&u!==-1&&(s=i)}if(!s){let l=r.tail;for(;l;){let u=l;if(l=l.previous,u){let f=this.mirror.getId(u.value.parentNode);if(o(u.value)===-1)continue;if(f!==-1){s=u;break}else{let p=u.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=p.parentNode.host;if(this.mirror.getId(h)!==-1){s=u;break}}}}}}if(!s){for(;r.head;)r.removeNode(r.head.value);break}i=s.previous,r.removeNode(s.value),a(s.value)}let c={texts:this.texts.map(s=>({id:this.mirror.getId(s.node),value:s.value})).filter(s=>!n.has(s.id)).filter(s=>this.mirror.has(s.id)),attributes:this.attributes.map(s=>{let{attributes:l}=s;if(typeof l.style=="string"){let u=JSON.stringify(s.styleDiff),f=JSON.stringify(s._unchangedStyles);u.length<l.style.length&&(u+f).split("var(").length===l.style.split("var(").length&&(l.style=s.styleDiff)}return{id:this.mirror.getId(s.node),attributes:l}}).filter(s=>!n.has(s.id)).filter(s=>this.mirror.has(s.id)),removes:this.removes,adds:t};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=t=>{if(!a8(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!L2(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:T4(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Tn(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let i=A8(n),c=n.tagName;o=X5(n,c,i);let s=l6({maskInputOptions:this.maskInputOptions,tagName:c,type:i}),l=T4(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s);o=Te({isMasked:l,element:n,value:o,maskInputFn:this.maskInputFn})}if(L2(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let a=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!n.contentDocument)r="rr_src";else return;if(a||(a={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(t.target,a)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!yn(n.tagName,r)&&(a.attributes[r]=Cn(this.doc,x4(n.tagName),x4(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(let c of Array.from(n.style)){let s=n.style.getPropertyValue(c),l=n.style.getPropertyPriority(c);s!==i.style.getPropertyValue(c)||l!==i.style.getPropertyPriority(c)?l===""?a.styleDiff[c]=s:a.styleDiff[c]=[s,l]:a._unchangedStyles[c]=[s,l]}for(let c of Array.from(i.style))n.style.getPropertyValue(c)===""&&(a.styleDiff[c]=!1)}break}case"childList":{if(L2(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=ze(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);L2(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||a8(n,this.mirror)||!Ts(n,this.mirror)||(this.addedSet.has(n)?(g8(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||In(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[on(r,o)]?g8(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:ze(t.target)&&Me(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(a8(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[on(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);L2(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),d8(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function g8(e,t){e.delete(t),t.childNodes.forEach(n=>g8(e,n))}function an(e,t,n){return e.length===0?!1:Hn(e,t,n)}function Hn(e,t,n){let{parentNode:r}=t;if(!r)return!1;let o=n.getId(r);return e.some(a=>a.id===o)?!0:Hn(e,r,n)}function cn(e,t){return e.size===0?!1:An(e,t)}function An(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:An(e,n):!1}var Ee;function As(e){Ee=e}function Rs(){Ee=void 0}var j=e=>Ee?(...n)=>{try{return e(...n)}catch(r){if(Ee&&Ee(r)===!0)return()=>{};throw r}}:e;function N2(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],a=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=a(n)):(o==="call"||o==="optionalCall")&&(n=a((...i)=>n.call(t,...i)),t=void 0)}return n}var E4=[];function He(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Rn(e,t){let n=new h8;E4.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=N2([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);o&&window[o]&&(r=window[o]);let a=new r(j(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Vs({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,a=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,i=[],c,s=Ne(j(f=>{let d=Date.now()-c;e(i.map(p=>(p.timeOffset-=d,p)),f),i=[],c=null}),a),l=j(Ne(j(f=>{let d=He(f),{clientX:p,clientY:h}=u8(f)?f.changedTouches[0]:f;c||(c=Q5()),i.push({x:p,y:h,id:r.getId(d),timeOffset:Q5()-c}),s(typeof DragEvent<"u"&&f instanceof DragEvent?B.Drag:f instanceof MouseEvent?B.MouseMove:B.TouchMove)}),o,{trailing:!1})),u=[U1("mousemove",l,n),U1("touchmove",l,n),U1("drag",l,n)];return j(()=>{u.forEach(f=>f())})}function Os({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:a,sampling:i}){if(i.mouseInteraction===!1)return()=>{};let c=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,s=[],l=null,u=f=>d=>{let p=He(d);if(L2(p,r,o,a,!0))return;let h=null,S=f;if("pointerType"in d){switch(d.pointerType){case"mouse":h=X2.Mouse;break;case"touch":h=X2.Touch;break;case"pen":h=X2.Pen;break}h===X2.Touch?F1[f]===F1.MouseDown?S="TouchStart":F1[f]===F1.MouseUp&&(S="TouchEnd"):X2.Pen}else u8(d)&&(h=X2.Touch);h!==null?(l=h,(S.startsWith("Touch")&&h===X2.Touch||S.startsWith("Mouse")&&h===X2.Mouse)&&(h=null)):F1[f]===F1.Click&&(h=l,l=null);let C=u8(d)?d.changedTouches[0]:d;if(!C)return;let b=n.getId(p),{clientX:E,clientY:I}=C;j(e)(m({type:F1[S],id:b,x:E,y:I},h!==null&&{pointerType:h}))};return Object.keys(F1).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&c[f]!==!1).forEach(f=>{let d=x4(f),p=u(f);if(window.PointerEvent)switch(F1[f]){case F1.MouseDown:case F1.MouseUp:d=d.replace("mouse","pointer");break;case F1.TouchStart:case F1.TouchEnd:return}s.push(U1(d,p,t))}),j(()=>{s.forEach(f=>f())})}function Vn({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:a,sampling:i}){let c=j(Ne(j(s=>{let l=He(s);if(!l||L2(l,r,o,a,!0))return;let u=n.getId(l);if(l===t&&t.defaultView){let f=Mn(t.defaultView);e({id:u,x:f.left,y:f.top})}else e({id:u,x:l.scrollLeft,y:l.scrollTop})}),i.scroll||100));return U1("scroll",c,t)}function Ds({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=j(Ne(j(()=>{let a=En(),i=xn();(n!==a||r!==i)&&(e({width:Number(i),height:Number(a)}),n=a,r=i)}),200));return U1("resize",o,t)}var Ps=["INPUT","TEXTAREA","SELECT"],sn=new WeakMap;function Fs({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:a,ignoreClass:i,ignoreSelector:c,maskInputOptions:s,maskInputFn:l,sampling:u,userTriggeredOnInput:f,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:S}){function C(_){let z=He(_),L=_.isTrusted,M=z&&l8(z.tagName);if(M==="OPTION"&&(z=z.parentElement),!z||!M||Ps.indexOf(M)<0||L2(z,r,o,a,!0))return;let x=z;if(x.classList.contains(i)||c&&x.matches(c))return;let O=A8(z),Q=X5(x,M,O),e1=!1,v1=l6({maskInputOptions:s,tagName:M,type:O}),P=T4(z,d,h,p,S,v1);(O==="radio"||O==="checkbox")&&(e1=z.checked),Q=Te({isMasked:P,element:z,value:Q,maskInputFn:l}),b(z,f?{text:Q,isChecked:e1,userTriggered:L}:{text:Q,isChecked:e1});let C1=z.name;O==="radio"&&C1&&e1&&t.querySelectorAll(`input[type="radio"][name="${C1}"]`).forEach(F=>{if(F!==z){let l1=Te({isMasked:P,element:F,value:X5(F,M,O),maskInputFn:l});b(F,f?{text:l1,isChecked:!e1,userTriggered:!1}:{text:l1,isChecked:!e1})}})}function b(_,z){let L=sn.get(_);if(!L||L.text!==z.text||L.isChecked!==z.isChecked){sn.set(_,z);let M=n.getId(_);j(e)(w(m({},z),{id:M}))}}let I=(u.input==="last"?["change"]:["input","change"]).map(_=>U1(_,j(C),t)),T=t.defaultView;if(!T)return()=>{I.forEach(_=>_())};let y=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),v=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&I.push(...v.map(_=>zn(_[0],_[1],{set(){j(C)({target:this,isTrusted:!1})}},!1,T))),j(()=>{I.forEach(_=>_())})}function e6(e){let t=[];function n(r,o){if(G5("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||G5("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||G5("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||G5("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let i=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(i)}else if(r.parentStyleSheet){let i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(i)}return o}return n(e,t)}function u3(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Us({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:j((u,f,d)=>{let[p,h]=d,{id:S,styleId:C}=u3(f,t,n.styleMirror);return(S&&S!==-1||C&&C!==-1)&&e({id:S,styleId:C,adds:[{rule:p,index:h}]}),u.apply(f,d)})});let a=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:j((u,f,d)=>{let[p]=d,{id:h,styleId:S}=u3(f,t,n.styleMirror);return(h&&h!==-1||S&&S!==-1)&&e({id:h,styleId:S,removes:[{index:p}]}),u.apply(f,d)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:j((u,f,d)=>{let[p]=d,{id:h,styleId:S}=u3(f,t,n.styleMirror);return(h&&h!==-1||S&&S!==-1)&&e({id:h,styleId:S,replace:p}),u.apply(f,d)})}));let c;r.CSSStyleSheet.prototype.replaceSync&&(c=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:j((u,f,d)=>{let[p]=d,{id:h,styleId:S}=u3(f,t,n.styleMirror);return(h&&h!==-1||S&&S!==-1)&&e({id:h,styleId:S,replaceSync:p}),u.apply(f,d)})}));let s={};j5("CSSGroupingRule")?s.CSSGroupingRule=r.CSSGroupingRule:(j5("CSSMediaRule")&&(s.CSSMediaRule=r.CSSMediaRule),j5("CSSConditionRule")&&(s.CSSConditionRule=r.CSSConditionRule),j5("CSSSupportsRule")&&(s.CSSSupportsRule=r.CSSSupportsRule));let l={};return Object.entries(s).forEach(([u,f])=>{l[u]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(l[u].insertRule,{apply:j((d,p,h)=>{let[S,C]=h,{id:b,styleId:E}=u3(p.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||E&&E!==-1)&&e({id:b,styleId:E,adds:[{rule:S,index:[...e6(p),C||0]}]}),d.apply(p,h)})}),f.prototype.deleteRule=new Proxy(l[u].deleteRule,{apply:j((d,p,h)=>{let[S]=h,{id:C,styleId:b}=u3(p.parentStyleSheet,t,n.styleMirror);return(C&&C!==-1||b&&b!==-1)&&e({id:C,styleId:b,removes:[{index:[...e6(p),S]}]}),d.apply(p,h)})})}),j(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=a,i&&(r.CSSStyleSheet.prototype.replace=i),c&&(r.CSSStyleSheet.prototype.replaceSync=c),Object.entries(s).forEach(([u,f])=>{f.prototype.insertRule=l[u].insertRule,f.prototype.deleteRule=l[u].deleteRule})})}function On({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?N2([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):N2([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),a=N2([o,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(N2([o,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!a?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){return N2([a,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){let c=N2([a,"access",s=>s.set,"optionalAccess",s=>s.call,"call",s=>s(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return c}}),j(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function Bs({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let a=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:j((c,s,l)=>{let[u,f,d]=l;if(n.has(u))return a.apply(s,[u,f,d]);let{id:p,styleId:h}=u3(N2([s,"access",S=>S.parentRule,"optionalAccess",S=>S.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:u,value:f,priority:d},index:e6(s.parentRule)}),c.apply(s,l)})});let i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:j((c,s,l)=>{let[u]=l;if(n.has(u))return i.apply(s,[u]);let{id:f,styleId:d}=u3(N2([s,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(f&&f!==-1||d&&d!==-1)&&e({id:f,styleId:d,remove:{property:u},index:e6(s.parentRule)}),c.apply(s,l)})}),j(()=>{o.CSSStyleDeclaration.prototype.setProperty=a,o.CSSStyleDeclaration.prototype.removeProperty=i})}function qs({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:a,doc:i}){let c=j(l=>Ne(j(u=>{let f=He(u);if(!f||L2(f,t,n,r,!0))return;let{currentTime:d,volume:p,muted:h,playbackRate:S}=f;e({type:l,id:o.getId(f),currentTime:d,volume:p,muted:h,playbackRate:S})}),a.media||500)),s=[U1("play",c(0),i),U1("pause",c(1),i),U1("seeked",c(2),i),U1("volumechange",c(3),i),U1("ratechange",c(4),i)];return j(()=>{s.forEach(l=>l())})}function $s({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,a=n.FontFace;n.FontFace=function(s,l,u){let f=new a(s,l,u);return o.set(f,{family:s,buffer:typeof l!="string",descriptors:u,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),f};let i=O8(t.fonts,"add",function(c){return function(s){return f6(j(()=>{let l=o.get(s);l&&(e(l),o.delete(s))}),0),c.apply(this,[s])}});return r.push(()=>{n.FontFace=a}),r.push(i),j(()=>{r.forEach(c=>c())})}function Ws(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:a,selectionCb:i}=e,c=!0,s=j(()=>{let l=t.getSelection();if(!l||c&&N2([l,"optionalAccess",d=>d.isCollapsed]))return;c=l.isCollapsed||!1;let u=[],f=l.rangeCount||0;for(let d=0;d<f;d++){let p=l.getRangeAt(d),{startContainer:h,startOffset:S,endContainer:C,endOffset:b}=p;L2(h,r,o,a,!0)||L2(C,r,o,a,!0)||u.push({start:n.getId(h),startOffset:S,end:n.getId(C),endOffset:b})}i({ranges:u})});return s(),U1("selectionchange",s)}function Gs({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:O8(n.customElements,"define",function(o){return function(a,i,c){try{t({define:{name:a}})}catch{}return o.apply(this,[a,i,c])}})}function js(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Rn(e,e.doc));let o=Vs(e),a=Os(e),i=Vn(e),c=Ds(e,{win:n}),s=Fs(e),l=qs(e),u=()=>{},f=()=>{},d=()=>{},p=()=>{};e.recordDOM&&(u=Us(e,{win:n}),f=On(e,e.doc),d=Bs(e,{win:n}),e.collectFonts&&(p=$s(e)));let h=Ws(e),S=Gs(e),C=[];for(let b of e.plugins)C.push(b.observer(b.callback,n,b.options));return j(()=>{E4.forEach(b=>b.reset()),N2([r,"optionalAccess",b=>b.disconnect,"call",b=>b()]),o(),a(),i(),c(),s(),l(),u(),f(),d(),p(),h(),S(),C.forEach(b=>b())})}function G5(e){return typeof window[e]<"u"}function j5(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Le=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let a=r||this.getIdToRemoteIdMap(t),i=o||this.getRemoteIdToIdMap(t),c=a.get(n);return c||(c=this.generateIdFn(),a.set(n,c),i.set(c,n)),c}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(a=>this.getId(t,a,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let a=o.get(n);return a||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function ln(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],a=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=a(n)):(o==="call"||o==="optionalCall")&&(n=a((...i)=>n.call(t,...i)),t=void 0)}return n}var v8=class{constructor(){this.crossOriginIframeMirror=new Le(R8),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},_8=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Le(R8),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Le(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ln([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let a=this.transformCrossOriginEvent(o,n.data.event);a&&this.wrappedEmit(a,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case U.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:U.IncrementalSnapshot,data:{source:B.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case U.Meta:case U.Load:case U.DomContentLoaded:return!1;case U.Plugin:return n;case U.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case U.IncrementalSnapshot:switch(n.data.source){case B.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case B.Drag:case B.TouchMove:case B.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case B.ViewportResize:return!1;case B.MediaInteraction:case B.MouseInteraction:case B.Scroll:case B.CanvasMutation:case B.Input:return this.replaceIds(n.data,t,["id"]),n;case B.StyleSheetRule:case B.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case B.Font:return n;case B.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case B.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),ln([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(o=>{this.replaceStyleIds(o,t,["styleId"])})]),n}}return!1}replace(t,n,r,o){for(let a of o)!Array.isArray(n[a])&&typeof n[a]!="number"||(Array.isArray(n[a])?n[a]=t.getIds(r,n[a]):n[a]=t.getId(r,n[a]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==L1.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},S8=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},b8=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Me(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Rn(w(m({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Vn(w(m({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),f6(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(On({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(O8(t.prototype,"attachShadow",function(o){return function(a){let i=o.call(this,a);return this.shadowRoot&&kn(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},t6=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},C8=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new m8,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let a of t){let i;this.styleMirror.has(a)?i=this.styleMirror.getId(a):(i=this.styleMirror.add(a),o.push({styleId:i,rules:Array.from(a.rules||CSSRule,(c,s)=>({rule:vn(c),index:s}))})),r.styleIds.push(i)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},y8=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){ws(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},b1,n6;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=t4([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var I2=rs();function m3(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:a=null,unblockSelector:i=null,ignoreClass:c="rr-ignore",ignoreSelector:s=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:f=null,maskTextSelector:d=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:S,maskInputOptions:C,slimDOMOptions:b,maskAttributeFn:E,maskInputFn:I,maskTextFn:T,maxCanvasSize:y=null,packFn:v,sampling:_={},dataURLOptions:z={},mousemoveWait:L,recordDOM:M=!0,recordCanvas:x=!1,recordCrossOriginIframes:O=!1,recordAfter:Q=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:e1=!1,collectFonts:v1=!1,inlineImages:P=!1,plugins:C1,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:l1=new Set([]),errorHandler:B1,onMutation:A1,getCanvasManager:q1}=e;As(B1);let q2=O?window.parent===window:!0,_3=!1;if(!q2)try{window.parent.document&&(_3=!1)}catch{_3=!0}if(q2&&!t)throw new Error("emit function is required");L!==void 0&&_.mousemove===void 0&&(_.mousemove=L),I2.reset();let F3=S===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:C!==void 0?C:{},U3=b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:b==="all",headMetaDescKeywords:b==="all"}:b||{};Is();let B3,S3=0,a7=Y=>{for(let v2 of C1||[])v2.eventProcessor&&(Y=v2.eventProcessor(Y));return v&&!_3&&(Y=v(Y)),Y};b1=(Y,v2)=>{let W=Y;if(W.timestamp=Q5(),t4([E4,"access",m1=>m1[0],"optionalAccess",m1=>m1.isFrozen,"call",m1=>m1()])&&W.type!==U.FullSnapshot&&!(W.type===U.IncrementalSnapshot&&W.data.source===B.Mutation)&&E4.forEach(m1=>m1.unfreeze()),q2)t4([t,"optionalCall",m1=>m1(a7(W),v2)]);else if(_3){let m1={type:"rrweb",event:a7(W),origin:window.location.origin,isCheckout:v2};window.parent.postMessage(m1,"*")}if(W.type===U.FullSnapshot)B3=W,S3=0;else if(W.type===U.IncrementalSnapshot){if(W.data.source===B.Mutation&&W.data.isAttachIframe)return;S3++;let m1=r&&S3>=r,K=n&&B3&&W.timestamp-B3.timestamp>n;(m1||K)&&x6(!0)}};let a1=Y=>{b1({type:U.IncrementalSnapshot,data:m({source:B.Mutation},Y)})},_1=Y=>b1({type:U.IncrementalSnapshot,data:m({source:B.Scroll},Y)}),$1=Y=>b1({type:U.IncrementalSnapshot,data:m({source:B.CanvasMutation},Y)}),x1=Y=>b1({type:U.IncrementalSnapshot,data:m({source:B.AdoptedStyleSheet},Y)}),S1=new C8({mutationCb:a1,adoptedStyleSheetCb:x1}),g2=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new v8:new _8({mirror:I2,mutationCb:a1,stylesheetManager:S1,recordCrossOriginIframes:O,wrappedEmit:b1});for(let Y of C1||[])Y.getMirror&&Y.getMirror({nodeMirror:I2,crossOriginIframeMirror:g2.crossOriginIframeMirror,crossOriginIframeStyleMirror:g2.crossOriginIframeStyleMirror});let w2=new y8,A4=Ys(q1,{mirror:I2,win:window,mutationCb:Y=>b1({type:U.IncrementalSnapshot,data:m({source:B.CanvasMutation},Y)}),recordCanvas:x,blockClass:o,blockSelector:a,unblockSelector:i,maxCanvasSize:y,sampling:_.canvas,dataURLOptions:z,errorHandler:B1}),Be=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new S8:new b8({mutationCb:a1,scrollCb:_1,bypassOptions:{onMutation:A1,blockClass:o,blockSelector:a,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:F3,dataURLOptions:z,maskAttributeFn:E,maskTextFn:T,maskInputFn:I,recordCanvas:x,inlineImages:P,sampling:_,slimDOMOptions:U3,iframeManager:g2,stylesheetManager:S1,canvasManager:A4,keepIframeSrcFn:F,processedNodeManager:w2},mirror:I2}),x6=(Y=!1)=>{if(!M)return;b1({type:U.Meta,data:{href:window.location.href,width:xn(),height:En()}},Y),S1.reset(),Be.init(),E4.forEach(W=>W.lock());let v2=xs(document,{mirror:I2,blockClass:o,blockSelector:a,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:F3,maskAttributeFn:E,maskInputFn:I,maskTextFn:T,slimDOM:U3,dataURLOptions:z,recordCanvas:x,inlineImages:P,onSerialize:W=>{Nn(W,I2)&&g2.addIframe(W),Ln(W,I2)&&S1.trackLinkElement(W),d8(W)&&Be.addShadowRoot(W.shadowRoot,document)},onIframeLoad:(W,m1)=>{g2.attachIframe(W,m1),W.contentWindow&&A4.addWindow(W.contentWindow),Be.observeAttachShadow(W)},onStylesheetLoad:(W,m1)=>{S1.attachLinkElement(W,m1)},keepIframeSrcFn:F});if(!v2)return console.warn("Failed to snapshot the document");b1({type:U.FullSnapshot,data:{node:v2,initialOffset:Mn(window)}}),E4.forEach(W=>W.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&S1.adoptStyleSheets(document.adoptedStyleSheets,I2.getId(document))};n6=x6;try{let Y=[],v2=m1=>j(js)({onMutation:A1,mutationCb:a1,mousemoveCb:(K,b3)=>b1({type:U.IncrementalSnapshot,data:{source:b3,positions:K}}),mouseInteractionCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.MouseInteraction},K)}),scrollCb:_1,viewportResizeCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.ViewportResize},K)}),inputCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.Input},K)}),mediaInteractionCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.MediaInteraction},K)}),styleSheetRuleCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.StyleSheetRule},K)}),styleDeclarationCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.StyleDeclaration},K)}),canvasMutationCb:$1,fontCb:K=>b1({type:U.IncrementalSnapshot,data:m({source:B.Font},K)}),selectionCb:K=>{b1({type:U.IncrementalSnapshot,data:m({source:B.Selection},K)})},customElementCb:K=>{b1({type:U.IncrementalSnapshot,data:m({source:B.CustomElement},K)})},blockClass:o,ignoreClass:c,ignoreSelector:s,maskAllText:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,maskInputOptions:F3,inlineStylesheet:h,sampling:_,recordDOM:M,recordCanvas:x,inlineImages:P,userTriggeredOnInput:e1,collectFonts:v1,doc:m1,maskAttributeFn:E,maskInputFn:I,maskTextFn:T,keepIframeSrcFn:F,blockSelector:a,unblockSelector:i,slimDOMOptions:U3,dataURLOptions:z,mirror:I2,iframeManager:g2,stylesheetManager:S1,shadowDomManager:Be,processedNodeManager:w2,canvasManager:A4,ignoreCSSAttributes:l1,plugins:t4([C1,"optionalAccess",K=>K.filter,"call",K=>K(b3=>b3.observer),"optionalAccess",K=>K.map,"call",K=>K(b3=>({observer:b3.observer,options:b3.options,callback:jr=>b1({type:U.Plugin,data:{plugin:b3.name,payload:jr}})}))])||[]},{});g2.addLoadListener(m1=>{try{Y.push(v2(m1.contentDocument))}catch(K){console.warn(K)}});let W=()=>{x6(),Y.push(v2(document))};return document.readyState==="interactive"||document.readyState==="complete"?W():(Y.push(U1("DOMContentLoaded",()=>{b1({type:U.DomContentLoaded,data:{}}),Q==="DOMContentLoaded"&&W()})),Y.push(U1("load",()=>{b1({type:U.Load,data:{}}),Q==="load"&&W()},window))),()=>{Y.forEach(m1=>m1()),w2.destroy(),n6=void 0,Rs()}}catch(Y){console.warn(Y)}}function Zs(e){if(!n6)throw new Error("please take full snapshot after start recording");n6(e)}m3.mirror=I2;m3.takeFullSnapshot=Zs;function Ys(e,t){try{return e?e(t):new t6}catch{return console.warn("Unable to initialize CanvasManager"),new t6}}var Ks=3,Xs=5;function P8(e){return e>9999999999?e:e*1e3}function i8(e){return e>9999999999?e/1e3:e}function Ae(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:U.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Y1(t,10,1e3)}}),t.category==="console")))}var Js="button,a";function Dn(e){return e.closest(Js)||e}function Pn(e){let t=Fn(e);return!t||!(t instanceof Element)?t:Dn(t)}function Fn(e){return Qs(e)?e.target:e}function Qs(e){return typeof e=="object"&&!!e&&"target"in e}var d3;function el(e){return d3||(d3=[],tl()),d3.push(e),()=>{let t=d3?d3.indexOf(e):-1;t>-1&&d3.splice(t,1)}}function tl(){i1(s1,"open",function(e){return function(...t){if(d3)try{d3.forEach(n=>n())}catch{}return e.apply(s1,t)}})}function nl(e,t,n){e.handleClick(t,n)}var z8=class{constructor(t,n,r=Ae){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=el(()=>{this._lastMutation=fn()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(ol(n,this._ignoreSelector)||!al(t))return;let r={timestamp:i8(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=i8(t)}registerScroll(t=Date.now()){this._lastScroll=i8(t)}registerClick(t){let n=Dn(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=fn();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,a=!r&&!o,{clickCount:i,clickBreadcrumb:c}=t;if(a){let s=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,l=s<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:w(m({},c.data),{url:s1.location.href,route:n.getCurrentRoute(),timeAfterClickMs:s,endReason:l,clickCount:i||1})};this._addBreadcrumbEvent(n,u);return}if(i>1){let s={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:w(m({},c.data),{url:s1.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(n,s)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=K2(()=>this._checkClicks(),1e3)}},rl=["A","BUTTON","INPUT"];function ol(e,t){return!!(!rl.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function al(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function fn(){return Date.now()/1e3}function il(e,t){try{if(!cl(t))return;let{source:n}=t.data;if(n===B.Mutation&&e.registerMutation(t.timestamp),n===B.Scroll&&e.registerScroll(t.timestamp),sl(t)){let{type:r,id:o}=t.data,a=m3.mirror.getNode(o);a instanceof HTMLElement&&r===F1.Click&&e.registerClick(a)}}catch{}}function cl(e){return e.type===Ks}function sl(e){return e.data.source===B.MouseInteraction}function F2(e){return m({timestamp:Date.now()/1e3,type:"default"},e)}var F8=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(F8||{}),ll=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function fl(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(ll.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var ul=e=>t=>{if(!e.isEnabled())return;let n=dl(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&nl(e.clickDetector,n,Pn(t.event)),Ae(e,n)};function Un(e,t){let n=m3.mirror.getId(e),r=n&&m3.mirror.getNode(n),o=r&&m3.mirror.getMeta(r),a=o&&pl(o)?o:null;return{message:t,data:a?{nodeId:n,node:{id:n,tagName:a.tagName,textContent:Array.from(a.childNodes).map(i=>i.type===F8.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:fl(a.attributes)}}:{}}}function dl(e){let{target:t,message:n}=ml(e);return F2(m({category:`ui.${e.name}`},Un(t,n)))}function ml(e){let t=e.name==="click",n,r=null;try{r=t?Pn(e.event):Fn(e.event),n=j1(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function pl(e){return e.type===F8.Element}function hl(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=gl(t);n&&Ae(e,n)}function gl(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:a,target:i}=e;if(!i||vl(i)||!a)return null;let c=t||r||o,s=a.length===1;if(!c&&s)return null;let l=j1(i,{maxStringLength:200})||"<unknown>",u=Un(i,l);return F2({category:"ui.keyDown",message:l,data:w(m({},u.data),{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:a})})}function vl(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var _l={resource:zl,paint:Cl,navigation:yl};function Z5(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Sl(e){return e.map(bl).filter(Boolean)}function bl(e){let t=_l[e.entryType];return t?t(e):null}function I4(e){return((M1||s1.performance.timeOrigin)+e)/1e3}function Cl(e){let{duration:t,entryType:n,name:r,startTime:o}=e,a=I4(o);return{type:n,name:r,start:a,end:a+t,data:void 0}}function yl(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:a,encodedBodySize:i,domContentLoadedEventStart:c,domContentLoadedEventEnd:s,domInteractive:l,loadEventStart:u,loadEventEnd:f,redirectCount:d,startTime:p,transferSize:h,type:S}=e;return o===0?null:{type:`${t}.${S}`,start:I4(p),end:I4(a),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:o,domInteractive:l,domContentLoadedEventStart:c,domContentLoadedEventEnd:s,loadEventStart:u,loadEventEnd:f,domComplete:a,redirectCount:d}}}function zl(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:a,decodedBodySize:i,encodedBodySize:c,responseStatus:s,transferSize:l}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:I4(a),end:I4(o),name:r,data:{size:l,statusCode:s,decodedBodySize:i,encodedBodySize:c}}}function Ml(e){let t=e.entries[e.entries.length-1],n=t?t.element:void 0;return u6(e,"largest-contentful-paint",n)}function El(e){let t=e.entries[0],n=t&&t.sources&&t.sources[0]?t.sources[0].node:void 0;return u6(e,"cumulative-layout-shift",n)}function xl(e){let t=e.entries[e.entries.length-1],n=t?t.target:void 0;return u6(e,"first-input-delay",n)}function Tl(e){let t=e.entries[e.entries.length-1],n=t?t.target:void 0;return u6(e,"interaction-to-next-paint",n)}function u6(e,t,n){let r=e.value,o=e.rating,a=I4(r);return{type:"web-vital",name:t,start:a,end:a,data:{value:r,size:r,rating:o,nodeId:n?m3.mirror.getId(n):void 0}}}function Il(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(x2(o,n))}),r.push(fe(Z5(Ml,e)),le(Z5(El,e)),ue(Z5(xl,e)),de(Z5(Tl,e))),()=>{r.forEach(o=>o())}}var n1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nl='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Ll(){let e=new Blob([Nl]);return URL.createObjectURL(e)}function J1(e,t){n1&&(g.info(e),t&&Bn(e))}function O3(e,t){n1&&(g.info(e),t&&K2(()=>{Bn(e)},0))}function Bn(e){u2({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var we=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${H8}.`)}},r6=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(t){return G(this,null,function*(){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>H8)throw new we;this.events.push(t)})}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?P8(t):null}},M8=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){J1("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,a)=>{let i=({data:c})=>{let s=c;if(s.method===t&&s.id===r){if(this._worker.removeEventListener("message",i),!s.success){n1&&g.error("[Replay]",s.response),a(new Error("Error in compression worker"));return}o(s.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},E8=class{constructor(t){this._worker=new M8(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=P8(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>H8?Promise.reject(new we):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{n1&&g.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}_finishRequest(){return G(this,null,function*(){let t=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t})}},x8=class{constructor(t){this._fallback=new r6,this._compression=new E8(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}finish(){return G(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return G(this,null,function*(){try{yield this._compression.ensureReady()}catch{J1("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return G(this,null,function*(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let o of t)r.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._used=this._compression;try{yield Promise.all(r)}catch(o){n1&&g.warn("[Replay] Failed to add events when switching buffers.",o)}})}};function wl({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=kl(t);if(n)return n}return J1("[Replay] Using simple buffer"),new r6}function kl(e){try{let t=e||Hl();if(!t)return;J1(`[Replay] Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new x8(n)}catch{J1("[Replay] Failed to create compression worker")}}function Hl(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Ll():""}function U8(){try{return"sessionStorage"in s1&&!!s1.sessionStorage}catch{return!1}}function Al(e){Rl(),e.session=void 0}function Rl(){if(U8())try{s1.sessionStorage.removeItem(w8)}catch{}}function qn(e){return e===void 0?!1:Math.random()<e}function $n(e){let t=Date.now(),n=e.id||$(),r=e.started||t,o=e.lastActivity||t,a=e.segmentId||0,i=e.sampled,c=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:a,sampled:i,previousSessionId:c}}function B8(e){if(U8())try{s1.sessionStorage.setItem(w8,JSON.stringify(e))}catch{}}function Vl(e,t){return qn(e)?"session":t?"buffer":!1}function un({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=Vl(e,t),a=$n({sampled:o,previousSessionId:r});return n&&B8(a),a}function Ol(e){if(!U8())return null;try{let t=s1.sessionStorage.getItem(w8);if(!t)return null;let n=JSON.parse(t);return O3("[Replay] Loading existing session",e),$n(n)}catch{return null}}function T8(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Wn(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return T8(e.started,t,r)||T8(e.lastActivity,n,r)}function Gn(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Wn(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function c8({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){let a=o.stickySession&&Ol(e);return a?Gn(a,{sessionIdleExpire:t,maxReplayDuration:n})?(O3("[Replay] Session in sessionStorage is expired, creating new one..."),un(o,{previousSessionId:a.id})):a:(O3("[Replay] Creating new session",e),un(o,{previousSessionId:r}))}function Dl(e){return e.type===U.Custom}function q8(e,t,n){return Zn(e,t)?(jn(e,t,n),!0):!1}function Pl(e,t,n){return Zn(e,t)?jn(e,t,n):Promise.resolve(null)}function jn(e,t,n){return G(this,null,function*(){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),o=Fl(t,r.beforeAddRecordingEvent);return o?yield e.eventBuffer.addEvent(o):void 0}catch(r){let o=r&&r instanceof we?"addEventSizeExceeded":"addEvent";n1&&g.error(r),yield e.stop({reason:o});let a=N();a&&a.recordDroppedEvent("internal_sdk_error","replay")}})}function Zn(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=P8(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(O3(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function Fl(e,t){try{if(typeof t=="function"&&Dl(e))return t(e)}catch(n){return n1&&g.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function $8(e){return!e.type}function I8(e){return e.type==="transaction"}function Ul(e){return e.type==="replay_event"}function dn(e){return e.type==="feedback"}function Bl(e){return(t,n)=>{if(!e.isEnabled()||!$8(t)&&!I8(t))return;let r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(I8(t)){ql(e,t);return}$l(e,t)}}}function ql(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function $l(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||K2(()=>{e.sendBufferedReplayOrFlush()})}function Wl(e){return t=>{!e.isEnabled()||!$8(t)||Gl(e,t)}}function Gl(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=F2({category:"replay.hydrate-error",data:{url:E3()}});Ae(e,r)}}function jl(e){let t=N();t&&t.on("beforeAddBreadcrumb",n=>Zl(e,n))}function Zl(e,t){if(!e.isEnabled()||!Yn(t))return;let n=Yl(t);n&&Ae(e,n)}function Yl(e){return!Yn(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Kl(e):F2(e)}function Kl(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return F2(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>W5?(n=!0,`${o.slice(0,W5)}\u2026`):o;if(typeof o=="object")try{let a=Y1(o,7);return JSON.stringify(a).length>W5?(n=!0,`${JSON.stringify(a,null,2).slice(0,W5)}\u2026`):a}catch{}return o});return F2(w(m({},e),{data:m(w(m({},e.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Yn(e){return!!e.category}function Xl(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Jl(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:U.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Ql(e,t){return e.recordingMode!=="buffer"||t.message===k8||!t.exception||t.type?!1:qn(e.getOptions().errorSampleRate)}function ef(e){return Object.assign((t,n)=>e.isEnabled()?Ul(t)?(delete t.breadcrumbs,t):!$8(t)&&!I8(t)&&!dn(t)||!e.checkAndHandleExpiredSession()?t:dn(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),Jl(e,t),t):Xl(t,n)&&!e.getOptions()._experiments.captureExceptions?(n1&&g.log("[Replay] Ignoring error from rrweb internals",t),null):((Ql(e,t)||e.recordingMode==="session")&&(t.tags=w(m({},t.tags),{replayId:e.getSessionId()})),t):t,{id:"Replay"})}function d6(e,t){return t.map(({type:n,start:r,end:o,name:a,data:i})=>{let c=e.throttledAddEvent({type:U.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:a,startTimestamp:r,endTimestamp:o,data:i}}});return typeof c=="string"?Promise.resolve(null):c})}function tf(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function nf(e){return t=>{if(!e.isEnabled())return;let n=tf(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(d6(e,[n]),!1)))}}function rf(e,t){return n1&&e.getOptions()._experiments.traceInternals?!1:At(t,N())}function Kn(e,t){e.isEnabled()&&t!==null&&(rf(e,t.name)||e.addUpdate(()=>(d6(e,[t]),!0)))}function m6(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=er(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Xn(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function Jn(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[er(e)];if(!e)return[void 0]}catch{return n1&&g.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return n1&&g.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function o6(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n=m({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Qn(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:a,statusCode:i,request:c,response:s}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:X({method:a,statusCode:i,request:c,response:s})}}function ke(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function p3(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:a}=of(n);return r.body=o,a&&a.length>0&&(r._meta={warnings:a}),r}function N8(e,t){return Object.entries(e).reduce((n,[r,o])=>{let a=r.toLowerCase();return t.includes(a)&&e[r]&&(n[a]=o),n},{})}function er(e){return new URLSearchParams(e).toString()}function of(e){if(!e||typeof e!="string")return{body:e};let t=e.length>K9,n=af(e);if(t){let r=e.slice(0,K9);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function af(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function a6(e,t){let n=cf(e);return i2(n,t)}function cf(e,t=s1.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(s1.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function sf(e,t,n){return G(this,null,function*(){try{let r=yield ff(e,t,n),o=Qn("resource.fetch",r);Kn(n.replay,o)}catch(r){n1&&g.error("[Replay] Failed to capture fetch breadcrumb",r)}})}function lf(e,t){let{input:n,response:r}=t,o=n?tr(n):void 0,a=m6(o),i=r?Xn(r.headers.get("content-length")):void 0;a!==void 0&&(e.data.request_body_size=a),i!==void 0&&(e.data.response_body_size=i)}function ff(e,t,n){return G(this,null,function*(){let r=Date.now(),{startTimestamp:o=r,endTimestamp:a=r}=t,{url:i,method:c,status_code:s=0,request_body_size:l,response_body_size:u}=e.data,f=a6(i,n.networkDetailAllowUrls)&&!a6(i,n.networkDetailDenyUrls),d=f?uf(n,t.input,l):ke(l),p=yield df(f,n,t.response,u);return{startTimestamp:o,endTimestamp:a,url:i,method:c,statusCode:s,request:d,response:p}})}function uf({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?hf(n,t):{};if(!e)return p3(o,r,void 0);let a=tr(n),[i,c]=Jn(a),s=p3(o,r,i);return c?o6(s,c):s}function df(a,i,c,s){return G(this,arguments,function*(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ke(o);let l=r?nr(r.headers,n):{};if(!r||!t&&o!==void 0)return p3(l,o,void 0);let[u,f]=yield pf(r),d=mf(u,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:l});return f?o6(d,f):d})}function mf(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let a=e&&e.length&&n===void 0?m6(e):n;return r?t?p3(o,a,e):p3(o,a,void 0):ke(a)}catch(a){return n1&&g.warn("[Replay] Failed to serialize response body",a),p3(o,n,void 0)}}function pf(e){return G(this,null,function*(){let t=gf(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield vf(t)]}catch(n){return n1&&g.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}})}function tr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function nr(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function hf(e,t){return e.length===1&&typeof e[0]!="string"?mn(e[0],t):e.length===2?mn(e[1],t):{}}function mn(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?nr(n,t):Array.isArray(n)?{}:N8(n,t):{}}function gf(e){try{return e.clone()}catch(t){n1&&g.warn("[Replay] Failed to clone response body",t)}}function vf(e){return new Promise((t,n)=>{let r=K2(()=>n(new Error("Timeout while trying to read response body")),500);_f(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}function _f(e){return G(this,null,function*(){return yield e.text()})}function Sf(e,t,n){return G(this,null,function*(){try{let r=Cf(e,t,n),o=Qn("resource.xhr",r);Kn(n.replay,o)}catch(r){n1&&g.error("[Replay] Failed to capture xhr breadcrumb",r)}})}function bf(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=m6(r),a=n.getResponseHeader("content-length")?Xn(n.getResponseHeader("content-length")):Ef(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}function Cf(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:a=r,input:i,xhr:c}=t,{url:s,method:l,status_code:u=0,request_body_size:f,response_body_size:d}=e.data;if(!s)return null;if(!c||!a6(s,n.networkDetailAllowUrls)||a6(s,n.networkDetailDenyUrls)){let v=ke(f),_=ke(d);return{startTimestamp:o,endTimestamp:a,url:s,method:l,statusCode:u,request:v,response:_}}let p=c[T2],h=p?N8(p.request_headers,n.networkRequestHeaders):{},S=N8(yf(c),n.networkResponseHeaders),[C,b]=n.networkCaptureBodies?Jn(i):[void 0],[E,I]=n.networkCaptureBodies?zf(c):[void 0],T=p3(h,f,C),y=p3(S,d,E);return{startTimestamp:o,endTimestamp:a,url:s,method:l,statusCode:u,request:b?o6(T,b):T,response:I?o6(y,I):y}}function yf(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,a]=r.split(": ");return a&&(n[o.toLowerCase()]=a),n},{}):{}}function zf(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Mf(e.response,e.responseType)}catch(n){t.push(n)}return n1&&g.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function Mf(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return n1&&g.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return n1&&g.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ef(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return m6(n)}catch{return}}function xf(e){let t=N();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:a,networkResponseHeaders:i}=e.getOptions(),c={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:a,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(s,l)=>Tf(c,s,l))}catch{}}function Tf(e,t,n){if(t.data)try{If(t)&&Lf(n)&&(bf(t,n),Sf(t,n,e)),Nf(t)&&wf(n)&&(lf(t,n),sf(t,n,e))}catch{n1&&g.warn("Error when enriching network breadcrumb")}}function If(e){return e.category==="xhr"}function Nf(e){return e.category==="fetch"}function Lf(e){return e&&e.xhr}function wf(e){return e&&e.response}function kf(e){let t=N();ge(ul(e)),Y2(nf(e)),jl(e),xf(e);let n=ef(e);T5(n),t&&(t.on("beforeSendEvent",Wl(e)),t.on("afterSendEvent",Bl(e)),t.on("createDsc",r=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,o)=>{let a=e.getSessionId();o&&o.includeReplay&&e.isEnabled()&&a&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=a)}))}function Hf(e){return G(this,null,function*(){try{return Promise.all(d6(e,[Af(s1.performance.memory)]))}catch{return[]}})}function Af(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Rf(e,t,n){let r,o,a,i=n&&n.maxWait?Math.max(n.maxWait,t):0;function c(){return s(),r=e(),r}function s(){o!==void 0&&clearTimeout(o),a!==void 0&&clearTimeout(a),o=a=void 0}function l(){return o!==void 0||a!==void 0?c():r}function u(){return o&&clearTimeout(o),o=K2(c,t),i&&a===void 0&&(a=K2(c,i)),r}return u.cancel=s,u.flush=l,u}function Vf(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){n1&&g.warn("[Replay] Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&il(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!q8(e,n,o))return!0;if(!o)return!1;if(Df(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let a=e.eventBuffer.getEarliestTimestamp();a&&(J1(`[Replay] Updating session start time to earliest event in buffer to ${new Date(a)}`,e.getOptions()._experiments.traceInternals),e.session.started=a,e.getOptions().stickySession&&B8(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function Of(e){let t=e.getOptions();return{type:U.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Df(e,t){!t||!e.session||e.session.segmentId!==0||q8(e,Of(e),!1)}function Pf(e,t,n,r){return t2(j4(e,e4(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Ff({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let a=new TextEncoder().encode(r);n=new Uint8Array(a.length+e.length),n.set(a),n.set(e,a.length)}return n}function Uf(o){return G(this,arguments,function*({client:e,scope:t,replayId:n,event:r}){let a=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:a};e.emit("preprocessEvent",r,i);let c=yield te(e.getOptions(),r,i,t,e,u1());if(!c)return null;c.platform=c.platform||"javascript";let s=e.getSdkMetadata(),{name:l,version:u}=s&&s.sdk||{};return c.sdk=w(m({},c.sdk),{name:l||"sentry.javascript.unknown",version:u||"0.0.0"}),c})}function Bf(i){return G(this,arguments,function*({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:a}){let c=Ff({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:l,traceIds:u,initialTimestamp:f}=r,d=N(),p=D(),h=d&&d.getTransport(),S=d&&d.getDsn();if(!d||!h||!S||!a.sampled)return D1({});let C={type:Pc,replay_start_timestamp:f/1e3,timestamp:o/1e3,error_ids:l,trace_ids:u,urls:s,replay_id:t,segment_id:n,replay_type:a.sampled},b=yield Uf({scope:p,client:d,replayId:t,event:C});if(!b)return d.recordDroppedEvent("event_processor","replay",C),J1("An event processor returned `null`, will not send event."),D1({});delete b.sdkProcessingMetadata;let E=Pf(b,c,S,d.getOptions().tunnel),I;try{I=yield h.send(E)}catch(y){let v=new Error(k8);try{v.cause=y}catch{}throw v}if(typeof I.statusCode=="number"&&(I.statusCode<200||I.statusCode>=300))throw new i6(I.statusCode);let T=Y4({},I);if(Z4(T,"replay"))throw new c6(T);return I})}var i6=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},c6=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};function rr(n){return G(this,arguments,function*(e,t={count:0,interval:Wc}){let{recordingData:r,options:o}=e;if(r.length)try{return yield Bf(e),!0}catch(a){if(a instanceof i6||a instanceof c6)throw a;if(m4("Replays",{_retryCount:t.count}),n1&&o._experiments&&o._experiments.captureExceptions&&H3(a),t.count>=Gc){let i=new Error(`${k8} - max retries exceeded`);try{i.cause=a}catch{}throw i}return t.interval*=++t.count,new Promise((i,c)=>{K2(()=>G(this,null,function*(){try{yield rr(e,t),i(!0)}catch(s){c(s)}}),t.interval)})}})}var or="__THROTTLED",qf="__SKIPPED";function $f(e,t,n){let r=new Map,o=c=>{let s=c-n;r.forEach((l,u)=>{u<s&&r.delete(u)})},a=()=>[...r.values()].reduce((c,s)=>c+s,0),i=!1;return(...c)=>{let s=Math.floor(Date.now()/1e3);if(o(s),a()>=t){let u=i;return i=!0,u?qf:or}i=!1;let l=r.get(s)||0;return r.set(s,l+1),e(...c)}}var L8=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Fc,sessionIdleExpire:Uc},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Rf(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=$f((i,c)=>Pl(this,i,c),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),a=r?{threshold:Math.min(jc,r),timeout:r,scrollTimeout:Zc,ignoreSelector:o?o.join(","):""}:void 0;a&&(this.clickDetector=new z8(this,a))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",O3(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");O3("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();let t=c8({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");O3("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=c8({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=m3(m(w(m(m({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:$c}),{emit:Vf(this),onMutation:this._onMutationHandler}),t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}))}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}stop(){return G(this,arguments,function*({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{J1(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Al(this)}catch(r){this._handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),J1("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),J1("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return G(this,arguments,function*({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();J1("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())})}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&T8(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${s1.location.pathname}${s1.location.hash}${s1.location.search}`,n=`${s1.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===or){let o=F2({category:"replay.throttled"});this.addUpdate(()=>!q8(this,{type:Xs,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||t1(),n=t&&Z(t),o=(n&&R(n).data||{})[z1];if(!(!n||!o||!["route","custom"].includes(o)))return R(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=wl({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){n1&&g.error("[Replay]",t),n1&&this._options._experiments&&this._options._experiments.captureExceptions&&H3(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=c8({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Gn(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}_refreshSession(t){return G(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(t.id))})}_addListeners(){try{s1.document.addEventListener("visibilitychange",this._handleVisibilityChange),s1.addEventListener("blur",this._handleWindowBlur),s1.addEventListener("focus",this._handleWindowFocus),s1.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(kf(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Il(this)}_removeListeners(){try{s1.document.removeEventListener("visibilitychange",this._handleVisibilityChange),s1.removeEventListener("blur",this._handleWindowBlur),s1.removeEventListener("focus",this._handleWindowFocus),s1.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{s1.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=F2({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=F2({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{hl(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Wn(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){J1("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:U.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Sl(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(d6(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}_runFlush(){return G(this,null,function*(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){n1&&g.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield Hf(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let a=yield this.eventBuffer.finish();yield rr({replayId:t,recordingData:a,segmentId:o,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let r=N();r&&r.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...n)=>G(this,[...n],function*({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){n1&&g.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let r=this.session.started,a=Date.now()-r;this._debouncedFlush.cancel();let i=a<this._options.minReplayDuration,c=a>this._options.maxReplayDuration+5e3;if(i||c){J1(`[Replay] Session duration (${Math.floor(a/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}let s=this.eventBuffer;if(s&&this.session.segmentId===0&&!s.hasCheckout&&J1("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(l){n1&&g.error(l)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&B8(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,a=r&&n>r;if(n>o||a){let i=F2({category:"replay.mutations",data:{count:n,limit:a}});this._createCustomBreadcrumb(i)}return a?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function ye(e,t){return[...e,...t].join(",")}function Wf({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let a=['base[href="/"]'],i=ye(e,[".sentry-mask","[data-sentry-mask]"]),c=ye(t,[]);return{maskTextSelector:i,unmaskTextSelector:c,blockSelector:ye(n,[".sentry-block","[data-sentry-block]",...a]),unblockSelector:ye(r,[]),ignoreSelector:ye(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Gf({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:a}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?a:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a}var pn='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',jf=["content-length","content-type","accept"],hn=!1,Zf=e=>new s6(e),s6=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Bc,flushMaxDelay:n=qc,minReplayDuration:r=Yc,maxReplayDuration:o=X9,stickySession:a=!0,useCompression:i=!0,workerUrl:c,_experiments:s={},maskAllText:l=!0,maskAllInputs:u=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:d=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:S=[],networkDetailAllowUrls:C=[],networkDetailDenyUrls:b=[],networkCaptureBodies:E=!0,networkRequestHeaders:I=[],networkResponseHeaders:T=[],mask:y=[],maskAttributes:v=["title","placeholder"],unmask:_=[],block:z=[],unblock:L=[],ignore:M=[],maskFn:x,beforeAddRecordingEvent:O,beforeErrorSampling:Q}={}){this.name=e.id;let e1=Wf({mask:y,unmask:_,block:z,unblock:L,ignore:M});if(this._recordingOptions=w(m({maskAllInputs:u,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:x,maskInputFn:x,maskAttributeFn:(v1,P,C1)=>Gf({maskAttributes:v,maskAllText:l,privacyOptions:e1,key:v1,value:P,el:C1})},e1),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:v1=>{try{v1.__rrweb__=!0}catch{}}}),this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Kc),maxReplayDuration:Math.min(o,X9),stickySession:a,useCompression:i,workerUrl:c,blockAllMedia:f,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:S,networkDetailAllowUrls:C,networkDetailDenyUrls:b,networkCaptureBodies:E,networkRequestHeaders:gn(I),networkResponseHeaders:gn(T),beforeAddRecordingEvent:O,beforeErrorSampling:Q,_experiments:s},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${pn}`:pn),this._isInitialized&&K3())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return hn}set _isInitialized(t){hn=t}afterAllSetup(t){!K3()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=Yf(this._initialOptions,t);this._replay=new L8({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};s6.__initStatic();function Yf(e,t){let n=t.getOptions(),r=m({sessionSampleRate:0,errorSampleRate:0},X(e)),o=i3(n.replaysSessionSampleRate),a=i3(n.replaysOnErrorSampleRate);return o==null&&a==null&&s2(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),a!=null&&(r.errorSampleRate=a),r}function gn(e){return[...jf,...e.map(t=>t.toLowerCase())]}var U2=H,f1=U2.document,Ve=U2.navigator,Kf="Report a Bug",Xf="Cancel",Jf="Send Bug Report",Qf="Confirm",eu="Report a Bug",tu="your.email@example.org",nu="Email",ru="What's the bug? What did you expect?",ou="Description",au="Your Name",iu="Name",cu="Thank you for your report!",su="(required)",lu="Add a screenshot",fu="Remove screenshot",uu="widget",du="api",mu=5e3,pu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=N();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&D().setTags(e.tags);let r=v4(m({source:du,url:E3()},e),t);return new Promise((o,a)=>{let i=setTimeout(()=>a("Unable to determine if Feedback was correctly sent."),5e3),c=n.on("afterSendEvent",(s,l)=>{if(s.event_id===r)return clearTimeout(i),c(),l&&typeof l.statusCode=="number"&&l.statusCode>=200&&l.statusCode<300&&o(r),l&&typeof l.statusCode=="number"&&l.statusCode===0?a("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):a("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},v6=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function hu(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Ve.userAgent)||/Macintosh/i.test(Ve.userAgent)&&Ve.maxTouchPoints&&Ve.maxTouchPoints>1||!isSecureContext)}function p6(e,t){return w(m(m({},e),t),{tags:m(m({},e.tags),t.tags),onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:m(m({},e.themeDark),t.themeDark),themeLight:m(m({},e.themeLight),t.themeLight)})}function gu(){let e=f1.createElement("style");return e.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e}function o2(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var N4=20,vu="http://www.w3.org/2000/svg";function _u(){let e=c=>U2.document.createElementNS(vu,c),t=o2(e("svg"),{width:`${N4}`,height:`${N4}`,viewBox:`0 0 ${N4} ${N4}`,fill:"var(--foreground)"}),n=o2(e("g"),{clipPath:"url(#clip0_57_80)"}),r=o2(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),a=o2(e("clipPath"),{id:"clip0_57_80"}),i=o2(e("rect"),{width:`${N4}`,height:`${N4}`,fill:"white"});return a.appendChild(i),o.appendChild(a),t.appendChild(o).appendChild(a).appendChild(i),t}function Su({triggerLabel:e,shadow:t}){let n=f1.createElement("button");if(n.type="button",n.className="widget__actor",n.ariaHidden="false",n.ariaLabel=e,n.appendChild(_u()),e){let o=f1.createElement("span");o.appendChild(f1.createTextNode(e)),n.appendChild(o)}let r=gu();return{el:n,appendToDom(){t.appendChild(r),t.appendChild(n)},removeFromDom(){t.removeChild(n),t.removeChild(r)},show(){n.ariaHidden="false"},hide(){n.ariaHidden="true"}}}var yr="rgba(88, 74, 192, 1)",bu={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:yr,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},ar={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:yr,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function ir(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Cu({colorScheme:e,themeDark:t,themeLight:n}){let r=f1.createElement("style");return r.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${ir(e==="dark"?m(m({},ar),t):m(m({},bu),n))}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${ir(m(m({},ar),t))}
  }
}`:""}
}
`,r}var zr=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:a=!0,showBranding:i=!0,isEmailRequired:c=!1,isNameRequired:s=!1,showEmail:l=!0,showName:u=!0,enableScreenshot:f=!0,useSentryUser:d={email:"email",name:"username"},tags:p,colorScheme:h="system",themeLight:S={},themeDark:C={},addScreenshotButtonLabel:b=lu,cancelButtonLabel:E=Xf,confirmButtonLabel:I=Qf,emailLabel:T=nu,emailPlaceholder:y=tu,formTitle:v=eu,isRequiredLabel:_=su,messageLabel:z=ou,messagePlaceholder:L=ru,nameLabel:M=iu,namePlaceholder:x=au,removeScreenshotButtonLabel:O=fu,submitButtonLabel:Q=Jf,successMessageText:e1=cu,triggerLabel:v1=Kf,onFormOpen:P,onFormClose:C1,onSubmitSuccess:F,onSubmitError:l1,onFormSubmitted:B1}={})=>{let A1={id:o,autoInject:a,showBranding:i,isEmailRequired:c,isNameRequired:s,showEmail:l,showName:u,enableScreenshot:f,useSentryUser:d,tags:p,colorScheme:h,themeDark:C,themeLight:S,triggerLabel:v1,cancelButtonLabel:E,submitButtonLabel:Q,confirmButtonLabel:I,formTitle:v,emailLabel:T,emailPlaceholder:y,messageLabel:z,messagePlaceholder:L,nameLabel:M,namePlaceholder:x,successMessageText:e1,isRequiredLabel:_,addScreenshotButtonLabel:b,removeScreenshotButtonLabel:O,onFormClose:C1,onFormOpen:P,onSubmitError:l1,onSubmitSuccess:F,onFormSubmitted:B1},q1=null,q2=[],_3=a1=>{if(!q1){let _1=f1.createElement("div");_1.id=String(a1.id),f1.body.appendChild(_1),q1=_1.attachShadow({mode:"open"}),q1.appendChild(Cu(a1))}return q1},F3=(a1,_1,$1)=>G(void 0,null,function*(){let x1=N(),S1=x1&&x1.getIntegrationByName(a1);if(S1)return S1;let w2=(_1&&_1()||(yield e($1)))();return x1&&x1.addIntegration(w2),w2}),U3=a1=>G(void 0,null,function*(){let _1=a1.enableScreenshot&&hu(),[$1,x1]=yield Promise.all([F3("FeedbackModal",t,"feedbackModalIntegration"),_1?F3("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!$1)throw v6&&g.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");return _1&&!x1&&v6&&g.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots."),$1.createDialog({options:a1,screenshotIntegration:_1?x1:void 0,sendFeedback:pu,shadow:_3(a1)})}),B3=(a1,_1={})=>{let $1=p6(A1,_1),x1=typeof a1=="string"?f1.querySelector(a1):typeof a1.addEventListener=="function"?a1:null;if(!x1)throw v6&&g.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let S1=null,g2=()=>G(void 0,null,function*(){S1||(S1=yield U3(w(m({},$1),{onFormClose:()=>{S1&&S1.close(),$1.onFormClose&&$1.onFormClose()},onFormSubmitted:()=>{S1&&S1.removeFromDom(),$1.onFormSubmitted&&$1.onFormSubmitted()}}))),S1.appendToDom(),S1.open()});x1.addEventListener("click",g2);let w2=()=>{q2=q2.filter(A4=>A4!==w2),S1&&S1.removeFromDom(),S1=null,x1.removeEventListener("click",g2)};return q2.push(w2),w2},S3=(a1={})=>{let _1=p6(A1,a1),$1=_3(_1),x1=Su({triggerLabel:_1.triggerLabel,shadow:$1});return B3(x1.el,w(m({},_1),{onFormOpen(){x1.hide()},onFormClose(){x1.show()},onFormSubmitted(){x1.show()}})),x1};return{name:"Feedback",setupOnce(){!K3()||!A1.autoInject||(f1.readyState==="loading"?f1.addEventListener("DOMContentLoaded",()=>S3().appendToDom()):S3().appendToDom())},attachTo:B3,createWidget(a1={}){let _1=S3(p6(A1,a1));return _1.appendToDom(),_1},createForm(){return G(this,arguments,function*(a1={}){return U3(p6(A1,a1))})},remove(){q1&&(q1.parentElement&&q1.parentElement.remove(),q1=null),q2.forEach(a1=>a1()),q2=[]}}};var z6,o1,Mr,D3,cr,Er,Y8,De={},Q8=[],yu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,e7=Array.isArray;function g3(e,t){for(var n in t)e[n]=t[n];return e}function xr(e){var t=e.parentNode;t&&t.removeChild(e)}function q(e,t,n){var r,o,a,i={};for(a in t)a=="key"?r=t[a]:a=="ref"?o=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?z6.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)i[a]===void 0&&(i[a]=e.defaultProps[a]);return _6(e,i,r,o,null)}function _6(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Mr,__i:-1,__u:0};return o==null&&o1.vnode!=null&&o1.vnode(a),a}function Pe(e){return e.children}function S6(e,t){this.props=e,this.context=t}function k4(e,t){if(t==null)return e.__?k4(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?k4(e):null}function zu(e,t,n){var r,o=e.__v,a=o.__e,i=e.__P;if(i)return(r=g3({},o)).__v=o.__v+1,o1.vnode&&o1.vnode(r),t7(i,r,o,e.__n,i.ownerSVGElement!==void 0,32&o.__u?[a]:null,t,a??k4(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=a&&Tr(r),r}function Tr(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Tr(e)}}function sr(e){(!e.__d&&(e.__d=!0)&&D3.push(e)&&!y6.__r++||cr!==o1.debounceRendering)&&((cr=o1.debounceRendering)||Er)(y6)}function y6(){var e,t,n,r=[],o=[];for(D3.sort(Y8);e=D3.shift();)e.__d&&(n=D3.length,t=zu(e,r,o)||t,n===0||D3.length>n?(K8(r,t,o),o.length=r.length=0,t=void 0,D3.sort(Y8)):t&&o1.__c&&o1.__c(t,Q8));t&&K8(r,t,o),y6.__r=0}function Ir(e,t,n,r,o,a,i,c,s,l,u){var f,d,p,h,S,C=r&&r.__k||Q8,b=t.length;for(n.__d=s,Mu(n,t,C),s=n.__d,f=0;f<b;f++)(p=n.__k[f])!=null&&typeof p!="boolean"&&typeof p!="function"&&(d=p.__i===-1?De:C[p.__i]||De,p.__i=f,t7(e,p,d,o,a,i,c,s,l,u),h=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&n7(d.ref,null,p),u.push(p.ref,p.__c||h,p)),S==null&&h!=null&&(S=h),65536&p.__u||d.__k===p.__k?s=Nr(p,s,e):typeof p.type=="function"&&p.__d!==void 0?s=p.__d:h&&(s=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=s,n.__e=S}function Mu(e,t,n){var r,o,a,i,c,s=t.length,l=n.length,u=l,f=0;for(e.__k=[],r=0;r<s;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?_6(null,o,null,null,o):e7(o)?_6(Pe,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?_6(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,c=Eu(o,n,i=r+f,u),o.__i=c,a=null,c!==-1&&(u--,(a=n[c])&&(a.__u|=131072)),a==null||a.__v===null?(c==-1&&f--,typeof o.type!="function"&&(o.__u|=65536)):c!==i&&(c===i+1?f++:c>i?u>s-i?f+=c-i:f--:f=c<i&&c==i-1?c-i:0,c!==r+f&&(o.__u|=65536))):(a=n[r])&&a.key==null&&a.__e&&(a.__e==e.__d&&(e.__d=k4(a)),X8(a,a,!1),n[r]=null,u--);if(u)for(r=0;r<l;r++)(a=n[r])!=null&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=k4(a)),X8(a,a))}function Nr(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Nr(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Eu(e,t,n,r){var o=e.key,a=e.type,i=n-1,c=n+1,s=t[n];if(s===null||s&&o==s.key&&a===s.type)return n;if(r>(s!=null&&!(131072&s.__u)?1:0))for(;i>=0||c<t.length;){if(i>=0){if((s=t[i])&&!(131072&s.__u)&&o==s.key&&a===s.type)return i;i--}if(c<t.length){if((s=t[c])&&!(131072&s.__u)&&o==s.key&&a===s.type)return c;c++}}return-1}function lr(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||yu.test(t)?n:n+"px"}function h6(e,t,n,r,o){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||lr(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||lr(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,a?ur:fr,a)):e.removeEventListener(t,a?ur:fr,a);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function fr(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(o1.event?o1.event(e):e)}}function ur(e){if(this.l)return this.l[e.type+!0](o1.event?o1.event(e):e)}function t7(e,t,n,r,o,a,i,c,s,l){var u,f,d,p,h,S,C,b,E,I,T,y,v,_,z,L=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(s=!!(32&n.__u),a=[c=t.__e=n.__e]),(u=o1.__b)&&u(t);e:if(typeof L=="function")try{if(b=t.props,E=(u=L.contextType)&&r[u.__c],I=u?E?E.props.value:u.__:r,n.__c?C=(f=t.__c=n.__c).__=f.__E:("prototype"in L&&L.prototype.render?t.__c=f=new L(b,I):(t.__c=f=new S6(b,I),f.constructor=L,f.render=Tu),E&&E.sub(f),f.props=b,f.state||(f.state={}),f.context=I,f.__n=r,d=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),L.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=g3({},f.__s)),g3(f.__s,L.getDerivedStateFromProps(b,f.__s))),p=f.props,h=f.state,f.__v=t,d)L.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(L.getDerivedStateFromProps==null&&b!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(b,I),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(b,f.__s,I)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=b,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(M){M&&(M.__=t)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&i.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(b,f.__s,I),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,h,S)})}if(f.context=I,f.props=b,f.__P=e,f.__e=!1,y=o1.__r,v=0,"prototype"in L&&L.prototype.render){for(f.state=f.__s,f.__d=!1,y&&y(t),u=f.render(f.props,f.state,f.context),_=0;_<f._sb.length;_++)f.__h.push(f._sb[_]);f._sb=[]}else do f.__d=!1,y&&y(t),u=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++v<25);f.state=f.__s,f.getChildContext!=null&&(r=g3(g3({},r),f.getChildContext())),d||f.getSnapshotBeforeUpdate==null||(S=f.getSnapshotBeforeUpdate(p,h)),Ir(e,e7(z=u!=null&&u.type===Pe&&u.key==null?u.props.children:u)?z:[z],t,n,r,o,a,i,c,s,l),f.base=t.__e,t.__u&=-161,f.__h.length&&i.push(f),C&&(f.__E=f.__=null)}catch(M){t.__v=null,s||a!=null?(t.__e=c,t.__u|=s?160:32,a[a.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),o1.__e(M,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=xu(n.__e,t,n,r,o,a,i,s,l);(u=o1.diffed)&&u(t)}function K8(e,t,n){for(var r=0;r<n.length;r++)n7(n[r],n[++r],n[++r]);o1.__c&&o1.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){o1.__e(a,o.__v)}})}function xu(e,t,n,r,o,a,i,c,s){var l,u,f,d,p,h,S,C=n.props,b=t.props,E=t.type;if(E==="svg"&&(o=!0),a!=null){for(l=0;l<a.length;l++)if((p=a[l])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,a[l]=null;break}}if(e==null){if(E===null)return document.createTextNode(b);e=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,b.is&&b),a=null,c=!1}if(E===null)C===b||c&&e.data===b||(e.data=b);else{if(a=a&&z6.call(e.childNodes),C=n.props||De,!c&&a!=null)for(C={},l=0;l<e.attributes.length;l++)C[(p=e.attributes[l]).name]=p.value;for(l in C)p=C[l],l=="children"||(l=="dangerouslySetInnerHTML"?f=p:l==="key"||l in b||h6(e,l,null,p,o));for(l in b)p=b[l],l=="children"?d=p:l=="dangerouslySetInnerHTML"?u=p:l=="value"?h=p:l=="checked"?S=p:l==="key"||c&&typeof p!="function"||C[l]===p||h6(e,l,p,C[l],o);if(u)c||f&&(u.__html===f.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(f&&(e.innerHTML=""),Ir(e,e7(d)?d:[d],t,n,r,o&&E!=="foreignObject",a,i,a?a[0]:n.__k&&k4(n,0),c,s),a!=null)for(l=a.length;l--;)a[l]!=null&&xr(a[l]);c||(l="value",h!==void 0&&(h!==e[l]||E==="progress"&&!h||E==="option"&&h!==C[l])&&h6(e,l,h,C[l],!1),l="checked",S!==void 0&&S!==e[l]&&h6(e,l,S,C[l],!1))}return e}function n7(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){o1.__e(r,n)}}function X8(e,t,n){var r,o;if(o1.unmount&&o1.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||n7(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){o1.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&X8(r[o],t,n||typeof e.type!="function");n||e.__e==null||xr(e.__e),e.__=e.__e=e.__d=void 0}function Tu(e,t,n){return this.constructor(e,n)}function Iu(e,t,n){var r,o,a,i;o1.__&&o1.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,a=[],i=[],t7(t,e=(!r&&n||t).__k=q(Pe,null,[e]),o||De,De,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?z6.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r,i),e.__d=void 0,K8(a,e,i)}z6=Q8.slice,o1={__e:function(e,t,n,r){for(var o,a,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(c){e=c}throw e}},Mr=0,S6.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=g3({},this.state),typeof e=="function"&&(e=e(g3({},n),this.props)),e&&g3(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),sr(this))},S6.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),sr(this))},S6.prototype.render=Pe,D3=[],Er=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Y8=function(e,t){return e.__v.__b-t.__v.__b},y6.__r=0;var e3,r1,W8,dr,H4=0,Lr=[],b6=[],g1=o1,mr=g1.__b,pr=g1.__r,hr=g1.diffed,gr=g1.__c,vr=g1.unmount,_r=g1.__;function P3(e,t){g1.__h&&g1.__h(r1,e,H4||t),H4=0;var n=r1.__H||(r1.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:b6}),n.__[e]}function L4(e){return H4=1,wr(Hr,e)}function wr(e,t,n){var r=P3(e3++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Hr(void 0,t),function(c){var s=r.__N?r.__N[0]:r.__[0],l=r.t(s,c);s!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=r1,!r1.u)){var o=function(c,s,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(d){return!!d.__c});if(u.every(function(d){return!d.__N}))return!a||a.call(this,c,s,l);var f=!1;return u.forEach(function(d){if(d.__N){var p=d.__[0];d.__=d.__N,d.__N=void 0,p!==d.__[0]&&(f=!0)}}),!(!f&&r.__c.props===c)&&(!a||a.call(this,c,s,l))};r1.u=!0;var a=r1.shouldComponentUpdate,i=r1.componentWillUpdate;r1.componentWillUpdate=function(c,s,l){if(this.__e){var u=a;a=void 0,o(c,s,l),a=u}i&&i.call(this,c,s,l)},r1.shouldComponentUpdate=o}return r.__N||r.__}function Nu(e,t){var n=P3(e3++,3);!g1.__s&&r7(n.__H,t)&&(n.__=e,n.i=t,r1.__H.__h.push(n))}function kr(e,t){var n=P3(e3++,4);!g1.__s&&r7(n.__H,t)&&(n.__=e,n.i=t,r1.__h.push(n))}function Lu(e){return H4=5,Fe(function(){return{current:e}},[])}function wu(e,t,n){H4=6,kr(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Fe(e,t){var n=P3(e3++,7);return r7(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function w4(e,t){return H4=8,Fe(function(){return e},t)}function ku(e){var t=r1.context[e.__c],n=P3(e3++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(r1)),t.props.value):e.__}function Hu(e,t){g1.useDebugValue&&g1.useDebugValue(t?t(e):e)}function Au(e){var t=P3(e3++,10),n=L4();return t.__=e,r1.componentDidCatch||(r1.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Ru(){var e=P3(e3++,11);if(!e.__){for(var t=r1.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Vu(){for(var e;e=Lr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(C6),e.__H.__h.forEach(J8),e.__H.__h=[]}catch(t){e.__H.__h=[],g1.__e(t,e.__v)}}g1.__b=function(e){r1=null,mr&&mr(e)},g1.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_r&&_r(e,t)},g1.__r=function(e){pr&&pr(e),e3=0;var t=(r1=e.__c).__H;t&&(W8===r1?(t.__h=[],r1.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=b6,n.__N=n.i=void 0})):(t.__h.forEach(C6),t.__h.forEach(J8),t.__h=[],e3=0)),W8=r1},g1.diffed=function(e){hr&&hr(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Lr.push(t)!==1&&dr===g1.requestAnimationFrame||((dr=g1.requestAnimationFrame)||Ou)(Vu)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==b6&&(n.__=n.__V),n.i=void 0,n.__V=b6})),W8=r1=null},g1.__c=function(e,t){t.some(function(n){try{n.__h.forEach(C6),n.__h=n.__h.filter(function(r){return!r.__||J8(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],g1.__e(r,n.__v)}}),gr&&gr(e,t)},g1.unmount=function(e){vr&&vr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{C6(r)}catch(o){t=o}}),n.__H=void 0,t&&g1.__e(t,n.__v))};var Sr=typeof requestAnimationFrame=="function";function Ou(e){var t,n=function(){clearTimeout(r),Sr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Sr&&(t=requestAnimationFrame(n))}function C6(e){var t=r1,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),r1=t}function J8(e){var t=r1;e.__c=e.__(),r1=t}function r7(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Hr(e,t){return typeof t=="function"?t(e):t}var Du={__proto__:null,useCallback:w4,useContext:ku,useDebugValue:Hu,useEffect:Nu,useErrorBoundary:Au,useId:Ru,useImperativeHandle:wu,useLayoutEffect:kr,useMemo:Fe,useReducer:wr,useRef:Lu,useState:L4},Pu="http://www.w3.org/2000/svg";function Fu(){let e=r=>f1.createElementNS(Pu,r),t=o2(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=o2(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}var br="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function Uu({options:e}){let t=Fe(()=>({__html:Fu().outerHTML}),[]);return q("h2",{class:"dialog__header",__self:this,__source:{fileName:br,lineNumber:16}},e.formTitle,e.showBranding?q("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:br,lineNumber:19}}):null)}function Bu(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}var d1="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function G8(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function qu({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:a,onSubmitError:i,showEmail:c,showName:s,screenshotInput:l}){let{tags:u,addScreenshotButtonLabel:f,removeScreenshotButtonLabel:d,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:S,isEmailRequired:C,isNameRequired:b,messageLabel:E,messagePlaceholder:I,nameLabel:T,namePlaceholder:y,submitButtonLabel:v,isRequiredLabel:_}=e,[z,L]=L4(null),[M,x]=L4(!1),O=l&&l.input,[Q,e1]=L4(null),v1=w4(F=>{e1(F),x(!1)},[]),P=w4(F=>{let l1=Bu(F,{emailLabel:h,isEmailRequired:C,isNameRequired:b,messageLabel:E,nameLabel:T});return l1.length>0?L(`Please enter in the following required fields: ${l1.join(", ")}`):L(null),l1.length===0},[h,C,b,E,T]),C1=w4(F=>G(this,null,function*(){try{if(F.preventDefault(),!(F.target instanceof HTMLFormElement))return;let l1=new FormData(F.target),B1=yield l&&M?l.value():void 0,A1={name:G8(l1,"name"),email:G8(l1,"email"),message:G8(l1,"message"),attachments:B1?[B1]:void 0};if(!P(A1))return;try{yield o({name:A1.name,email:A1.email,message:A1.message,source:uu,tags:u},{attachments:A1.attachments}),a(A1)}catch(q1){v6&&g.error(q1),L(q1),i(q1)}}catch{}}),[l&&M,a,i]);return q("form",{class:"form",onSubmit:C1,__self:this,__source:{fileName:d1,lineNumber:144}},O&&M?q(O,{onError:v1,__self:this,__source:{fileName:d1,lineNumber:146}}):null,q("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:d1,lineNumber:149}},q("div",{class:"form__top",__self:this,__source:{fileName:d1,lineNumber:150}},z?q("div",{class:"form__error-container",__self:this,__source:{fileName:d1,lineNumber:151}},z):null,s?q("label",{for:"name",class:"form__label",__self:this,__source:{fileName:d1,lineNumber:154}},q(j8,{label:T,isRequiredLabel:_,isRequired:b,__self:this,__source:{fileName:d1,lineNumber:155}}),q("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:y,required:b,type:"text",__self:this,__source:{fileName:d1,lineNumber:156}})):q("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:d1,lineNumber:167}}),c?q("label",{for:"email",class:"form__label",__self:this,__source:{fileName:d1,lineNumber:171}},q(j8,{label:h,isRequiredLabel:_,isRequired:C,__self:this,__source:{fileName:d1,lineNumber:172}}),q("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:S,required:C,type:"email",__self:this,__source:{fileName:d1,lineNumber:173}})):q("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:d1,lineNumber:184}}),q("label",{for:"message",class:"form__label",__self:this,__source:{fileName:d1,lineNumber:187}},q(j8,{label:E,isRequiredLabel:_,isRequired:!0,__self:this,__source:{fileName:d1,lineNumber:188}}),q("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:I,required:!0,rows:5,__self:this,__source:{fileName:d1,lineNumber:189}})),O?q("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:d1,lineNumber:201}},q("button",{class:"btn btn--default",type:"button",onClick:()=>{e1(null),x(F=>!F)},__self:this,__source:{fileName:d1,lineNumber:202}},M?d:f),Q?q("div",{class:"form__error-container",__self:this,__source:{fileName:d1,lineNumber:212}},Q.message):null):null),q("div",{class:"btn-group",__self:this,__source:{fileName:d1,lineNumber:216}},q("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:d1,lineNumber:217}},v),q("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:d1,lineNumber:220}},p))))}function j8({label:e,isRequired:t,isRequiredLabel:n}){return q("span",{class:"form__label__text",__self:this,__source:{fileName:d1,lineNumber:239}},e,t&&q("span",{class:"form__label__text--required",__self:this,__source:{fileName:d1,lineNumber:241}},n))}var g6=16,Cr=17,$u="http://www.w3.org/2000/svg";function Wu(){let e=s=>U2.document.createElementNS($u,s),t=o2(e("svg"),{width:`${g6}`,height:`${Cr}`,viewBox:`0 0 ${g6} ${Cr}`,fill:"inherit"}),n=o2(e("g"),{clipPath:"url(#clip0_57_156)"}),r=o2(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=o2(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let a=e("defs"),i=o2(e("clipPath"),{id:"clip0_57_156"}),c=o2(e("rect"),{width:`${g6}`,height:`${g6}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(c),a.appendChild(i),t.appendChild(a).appendChild(i).appendChild(c),t}var J2="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function Gu(r){var o=r,{open:e,onFormSubmitted:t}=o,n=qe(o,["open","onFormSubmitted"]);let a=n.options,i=Fe(()=>({__html:Wu().outerHTML}),[]),[c,s]=L4(null),l=w4(()=>{c&&(clearTimeout(c),s(null)),t()},[c]),u=w4(f=>{n.onSubmitSuccess(f),s(setTimeout(()=>{t(),s(null)},mu))},[t]);return q(Pe,{__self:this,__source:{fileName:J2,lineNumber:48}},c?q("div",{class:"success__position",onClick:l,__self:this,__source:{fileName:J2,lineNumber:50}},q("div",{class:"success__content",__self:this,__source:{fileName:J2,lineNumber:51}},a.successMessageText,q("span",{class:"success__icon",dangerouslySetInnerHTML:i,__self:this,__source:{fileName:J2,lineNumber:53}}))):q("dialog",{class:"dialog",onClick:a.onFormClose,open:e,__self:this,__source:{fileName:J2,lineNumber:57}},q("div",{class:"dialog__position",__self:this,__source:{fileName:J2,lineNumber:58}},q("div",{class:"dialog__content",onClick:f=>{f.stopPropagation()},__self:this,__source:{fileName:J2,lineNumber:59}},q(Uu,{options:a,__self:this,__source:{fileName:J2,lineNumber:66}}),q(qu,w(m({},n),{onSubmitSuccess:u,__self:this,__source:{fileName:J2,lineNumber:67}}))))))}var ju=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,Zu=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,Yu=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 var(--form-width, 272px);
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,Ku=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Xu=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Ju(){let e=f1.createElement("style");return e.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${ju}
${Zu}
${Yu}
${Ku}
${Xu}
`,e}var Qu="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function ed(){let e=D().getUser(),t=u1().getUser(),n=r4().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var Ar=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,a=e.useSentryUser,i=ed(),c=f1.createElement("div"),s=Ju(),l="",u={get el(){return c},appendToDom(){!o.contains(s)&&!o.contains(c)&&(o.appendChild(s),o.appendChild(c))},removeFromDom(){o.removeChild(c),o.removeChild(s),f1.body.style.overflow=l},open(){d(!0),e.onFormOpen&&e.onFormOpen(),l=f1.body.style.overflow,f1.body.style.overflow="hidden"},close(){d(!1),f1.body.style.overflow=l}},f=t&&t.createInput({h:q,hooks:Du,dialog:u,options:e}),d=p=>{Iu(q(Gu,{options:e,screenshotInput:f,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:a&&i&&i[a.name]||"",defaultEmail:a&&i&&i[a.email]||"",onFormClose:()=>{d(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{d(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p,__self:void 0,__source:{fileName:Qu,lineNumber:67}}),c)};return u}}),td="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx";function nd({h:e}){return function({top:n,left:r,corner:o,onGrabButton:a}){return e("button",{class:`editor__crop-corner editor__crop-corner--${o} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),a(i,o)},onClick:i=>{i.preventDefault()},__self:this,__source:{fileName:td,lineNumber:22}})}}function rd(){let e=f1.createElement("style"),t="#1A141F",n="#302735";return e.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${t};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${t} 8px,
      ${t} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${n} 15px,
      ${n} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e}function od({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:o,onError:a}){e.useEffect(()=>{G(this,null,function*(){n();let c=yield Ve.mediaDevices.getDisplayMedia({video:{width:U2.innerWidth*U2.devicePixelRatio,height:U2.innerHeight*U2.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),s=f1.createElement("video");yield new Promise((l,u)=>{s.srcObject=c,s.onloadedmetadata=()=>{r(s),c.getTracks().forEach(f=>f.stop()),l()},s.play().catch(u)}),o()}).catch(a)},[])}}var p2="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",Oe=30,Q2=3,h3=Oe+Q2,h2=U2.devicePixelRatio,Re=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Z8=e=>{let t=e.clientHeight,n=e.clientWidth,r=e.width/e.height,o=t*r,a=t;o>n&&(o=n,a=n/r);let i=(n-o)/2,c=(t-a)/2;return{startX:i,startY:c,endX:o+i,endY:a+c}};function ad({h:e,hooks:t,imageBuffer:n,dialog:r,options:o}){let a=od({hooks:t});return function({onError:c}){let s=t.useMemo(()=>({__html:rd().innerText}),[]),l=nd({h:e}),u=t.useRef(null),f=t.useRef(null),d=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[S,C]=t.useState(!1);t.useEffect(()=>{U2.addEventListener("resize",b,!1)},[]);function b(){let y=d.current,v=Re(Z8(n));if(y){y.width=v.width*h2,y.height=v.height*h2,y.style.width=`${v.width}px`,y.style.height=`${v.height}px`;let z=y.getContext("2d");z&&z.scale(h2,h2)}let _=f.current;_&&(_.style.width=`${v.width}px`,_.style.height=`${v.height}px`),h({startX:0,startY:0,endX:v.width,endY:v.height})}t.useEffect(()=>{let y=d.current;if(!y)return;let v=y.getContext("2d");if(!v)return;let _=Re(Z8(n)),z=Re(p);v.clearRect(0,0,_.width,_.height),v.fillStyle="rgba(0, 0, 0, 0.5)",v.fillRect(0,0,_.width,_.height),v.clearRect(z.x,z.y,z.width,z.height),v.strokeStyle="#ffffff",v.lineWidth=3,v.strokeRect(z.x+1,z.y+1,z.width-2,z.height-2),v.strokeStyle="#000000",v.lineWidth=1,v.strokeRect(z.x+3,z.y+3,z.width-6,z.height-6)},[p]);function E(y,v){C(!1);let _=I(v),z=()=>{f1.removeEventListener("mousemove",_),f1.removeEventListener("mouseup",z),C(!0)};f1.addEventListener("mouseup",z),f1.addEventListener("mousemove",_)}let I=t.useCallback(y=>function(v){if(!d.current)return;let _=d.current,z=_.getBoundingClientRect(),L=v.clientX-z.x,M=v.clientY-z.y;switch(y){case"top-left":h(x=>w(m({},x),{startX:Math.min(Math.max(0,L),x.endX-h3),startY:Math.min(Math.max(0,M),x.endY-h3)}));break;case"top-right":h(x=>w(m({},x),{endX:Math.max(Math.min(L,_.width/h2),x.startX+h3),startY:Math.min(Math.max(0,M),x.endY-h3)}));break;case"bottom-left":h(x=>w(m({},x),{startX:Math.min(Math.max(0,L),x.endX-h3),endY:Math.max(Math.min(M,_.height/h2),x.startY+h3)}));break;case"bottom-right":h(x=>w(m({},x),{endX:Math.max(Math.min(L,_.width/h2),x.startX+h3),endY:Math.max(Math.min(M,_.height/h2),x.startY+h3)}));break}},[]);function T(){let y=f1.createElement("canvas"),v=Re(Z8(n)),_=Re(p);y.width=_.width*h2,y.height=_.height*h2;let z=y.getContext("2d");z&&n&&z.drawImage(n,_.x/v.width*n.width,_.y/v.height*n.height,_.width/v.width*n.width,_.height/v.height*n.height,0,0,y.width,y.height);let L=n.getContext("2d");L&&(L.clearRect(0,0,n.width,n.height),n.width=y.width,n.height=y.height,n.style.width=`${_.width}px`,n.style.height=`${_.height}px`,L.drawImage(y,0,0),b())}return a({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(y=>{let v=n.getContext("2d");if(!v)throw new Error("Could not get canvas context");n.width=y.videoWidth,n.height=y.videoHeight,n.style.width="100%",n.style.height="100%",v.drawImage(y,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";let y=u.current;y&&y.appendChild(n),b()},[]),onError:t.useCallback(y=>{r.el.style.display="block",c(y)},[])}),e("div",{class:"editor",__self:this,__source:{fileName:p2,lineNumber:262}},e("style",{dangerouslySetInnerHTML:s,__self:this,__source:{fileName:p2,lineNumber:263}}),e("div",{class:"editor__canvas-container",ref:u,__self:this,__source:{fileName:p2,lineNumber:264}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:f,__self:this,__source:{fileName:p2,lineNumber:265}},e("canvas",{style:{position:"absolute"},ref:d,__self:this,__source:{fileName:p2,lineNumber:266}}),e(l,{left:p.startX-Q2,top:p.startY-Q2,onGrabButton:E,corner:"top-left",__self:this,__source:{fileName:p2,lineNumber:267}}),e(l,{left:p.endX-Oe+Q2,top:p.startY-Q2,onGrabButton:E,corner:"top-right",__self:this,__source:{fileName:p2,lineNumber:273}}),e(l,{left:p.startX-Q2,top:p.endY-Oe+Q2,onGrabButton:E,corner:"bottom-left",__self:this,__source:{fileName:p2,lineNumber:279}}),e(l,{left:p.endX-Oe+Q2,top:p.endY-Oe+Q2,onGrabButton:E,corner:"bottom-right",__self:this,__source:{fileName:p2,lineNumber:285}}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:S?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:p2,lineNumber:291}},e("button",{onClick:y=>{y.preventDefault(),d.current&&h({startX:0,startY:0,endX:d.current.width/h2,endY:d.current.height/h2}),C(!1)},class:"btn btn--default",__self:this,__source:{fileName:p2,lineNumber:299}},o.cancelButtonLabel),e("button",{onClick:y=>{y.preventDefault(),T(),C(!1)},class:"btn btn--primary",__self:this,__source:{fileName:p2,lineNumber:316}},o.confirmButtonLabel)))))}}var Rr=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=f1.createElement("canvas");return{input:ad({h:e,hooks:t,imageBuffer:o,dialog:n,options:r}),value:()=>G(void 0,null,function*(){let a=yield new Promise(i=>{o.toBlob(i,"image/png")});if(a)return{data:new Uint8Array(yield a.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});var Vr=zr({lazyLoadIntegration:Y9,getModalIntegration:()=>Ar,getScreenshotIntegration:()=>Rr});var M6={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function Dr(e){let{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:o,tracePropagationTargets:a}=m({traceFetch:M6.traceFetch,traceXHR:M6.traceXHR},e),i=typeof r=="function"?r:l=>!0,c=l=>ld(l,a),s={};t&&B4(l=>{let u=Rt(l,i,c,s);if(u){let f=Pr(l.fetchData.url),d=f?l2(f).host:void 0;u.setAttributes({"http.url":f,"server.address":d})}o&&u&&Or(u)}),n&&ve(l=>{let u=fd(l,i,c,s);o&&u&&Or(u)})}function id(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Or(e){let{url:t}=R(e).data||{};if(!t||typeof t!="string")return;let n=x2("resource",({entries:r})=>{r.forEach(o=>{id(o)&&o.name.endsWith(t)&&(sd(o).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function cd(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function B2(e=0){return((M1||performance.timeOrigin)+e)/1e3}function sd(e){let{name:t,version:n}=cd(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),M1?[...r,["http.request.redirect_start",B2(e.redirectStart)],["http.request.fetch_start",B2(e.fetchStart)],["http.request.domain_lookup_start",B2(e.domainLookupStart)],["http.request.domain_lookup_end",B2(e.domainLookupEnd)],["http.request.connect_start",B2(e.connectStart)],["http.request.secure_connection_start",B2(e.secureConnectionStart)],["http.request.connection_end",B2(e.connectEnd)],["http.request.request_start",B2(e.requestStart)],["http.request.response_start",B2(e.responseStart)],["http.request.response_end",B2(e.responseEnd)]]:r}function ld(e,t){let n=A.location&&A.location.href;if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let a=r.origin===o;return t?i2(r.toString(),t)||a&&i2(r.pathname,t):a}else{let r=!!e.match(/^\/(?!\/)/);return t?i2(e,t):r}}function fd(e,t,n,r){let o=e.xhr,a=o&&o[T2];if(!o||o.__sentry_own_request__||!a)return;let i=K1()&&t(a.url);if(e.endTimestamp&&i){let d=o.__sentry_xhr_span_id__;if(!d)return;let p=r[d];p&&a.status_code!==void 0&&(s4(p,a.status_code),p.end(),delete r[d]);return}let c=Pr(a.url),s=c?l2(c).host:void 0,l=!!t1(),u=i&&l?I1({name:`${a.method} ${a.url}`,attributes:{type:"xhr","http.method":a.method,"http.url":c,url:a.url,"server.address":s,[J]:"auto.http.browser",[M2]:"http.client"}}):new r2;o.__sentry_xhr_span_id__=u.spanContext().spanId,r[o.__sentry_xhr_span_id__]=u;let f=N();return o.setRequestHeader&&n(a.url)&&f&&ud(o,f,K1()&&l?u:void 0),u}function ud(e,t,n){let r=D(),o=u1(),{traceId:a,spanId:i,sampled:c,dsc:s}=m(m({},o.getPropagationContext()),r.getPropagationContext()),l=n&&K1()?l4(n):T3(a,i,c),u=Q3(s||(n?P1(n):a3(a,t)));dd(e,l,u)}function dd(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(J3,n)}catch{}}function Pr(e){try{return new URL(e,A.location.origin).href}catch{return}}function Fr(){A&&A.document?A.document.addEventListener("visibilitychange",()=>{let e=t1();if(!e)return;let t=Z(e);if(A.document.hidden&&t){let n="cancelled",{op:r,status:o}=R(t);E1&&g.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):E1&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var md="BrowserTracing",pd=m(w(m({},d4),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{}}),M6),o7=(e={})=>{y5();let{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:o},beforeStartSpan:a,idleTimeout:i,finalTimeout:c,childSpanTimeout:s,markBackgroundSpan:l,traceFetch:u,traceXHR:f,shouldCreateSpanForRequest:d,enableHTTPTimings:p,instrumentPageLoad:h,instrumentNavigation:S}=m(m({},pd),e),C=jt();t&&t8(),r&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Yt():n&&Zt(),o&&Kt();let b={name:void 0,source:void 0};function E(I,T){let y=T.op==="pageload",v=a?a(T):T,_=v.attributes||{};T.name!==v.name&&(_[z1]="custom",v.attributes=_),b.name=v.name,b.source=_[z1];let z=E5(v,{idleTimeout:i,finalTimeout:c,childSpanTimeout:s,disableAutoFinish:y,beforeSpanEnd:M=>{C(),Xt(M)}});function L(){["interactive","complete"].includes(A.document.readyState)&&I.emit("idleSpanEnableAutoFinish",z)}return y&&A.document&&(A.document.addEventListener("readystatechange",()=>{L()}),L()),z}return{name:md,afterAllSetup(I){let T,y=A.location&&A.location.href;I.on("startNavigationSpan",v=>{N()===I&&(T&&!R(T).timestamp&&(E1&&g.log(`[Tracing] Finishing current root span with op: ${R(T).op}`),T.end()),T=E(I,m({op:"navigation"},v)))}),I.on("startPageLoadSpan",(v,_={})=>{if(N()!==I)return;T&&!R(T).timestamp&&(E1&&g.log(`[Tracing] Finishing current root span with op: ${R(T).op}`),T.end());let z=_.sentryTrace||Ur("sentry-trace"),L=_.baggage||Ur("baggage"),M=ct(z,L);D().setPropagationContext(M),T=E(I,m({op:"pageload"},v))}),I.on("spanEnd",v=>{let _=R(v).op;if(v!==Z(v)||_!=="navigation"&&_!=="pageload")return;let z=D(),L=z.getPropagationContext();z.setPropagationContext(w(m({},L),{sampled:L.sampled!==void 0?L.sampled:f2(v),dsc:L.dsc||P1(v)}))}),A.location&&(h&&Br(I,{name:A.location.pathname,startTime:M1?M1/1e3:void 0,attributes:{[z1]:"url",[J]:"auto.pageload.browser"}}),S&&Y2(({to:v,from:_})=>{if(_===void 0&&y&&y.indexOf(v)!==-1){y=void 0;return}_!==v&&(y=void 0,E6(I,{name:A.location.pathname,attributes:{[z1]:"url",[J]:"auto.navigation.browser"}}))})),l&&Fr(),o&&hd(i,c,s,b),t&&n8(),Dr({traceFetch:u,traceXHR:f,tracePropagationTargets:I.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:d,enableHTTPTimings:p})}}};function Br(e,t,n){e.emit("startPageLoadSpan",t,n),D().setTransactionName(t.name);let r=t1();return(r&&R(r).op)==="pageload"?r:void 0}function E6(e,t){u1().setPropagationContext(I3()),D().setPropagationContext(I3()),e.emit("startNavigationSpan",t),D().setTransactionName(t.name);let n=t1();return(n&&R(n).op)==="navigation"?n:void 0}function Ur(e){let t=$6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function hd(e,t,n,r){let o,a=()=>{let i="ui.action.click",c=t1(),s=c&&Z(c);if(s){let l=R(s).op;if(["navigation","pageload"].includes(l)){E1&&g.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(a4,"interactionInterrupted"),o.end(),o=void 0),!r.name){E1&&g.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}o=E5({name:r.name,op:i,attributes:{[z1]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};A.document&&addEventListener("click",a,{once:!1,capture:!0})}var qr=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;function vd(){return[h4(),p4(),_e(),Se(),Ce(),g4(),be()]}function GM(e){let t=m({defaultIntegrations:vd()},e);return ie(t,"angular"),_d(),o8(t)}function _d(){let t=Ge&&Ge.major?parseInt(Ge.major,10):void 0;t&&(t<14&&qr&&g.warn(`This Sentry SDK does not officially support Angular ${t}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),m4("angular",{version:t}))}var Sd=typeof Zone<"u"&&Zone.root&&Zone.root.run;function Ue(e){return Sd?Zone.root.run(e):e()}var bd="ui.angular.routing",Cd="ui.angular.init";var $r;function jM(e={}){return e.instrumentNavigation!==!1&&($r=!0),o7(w(m({},e),{instrumentNavigation:!1}))}function yd(e,t){let n=t&&R(t).data||{};t&&n[z1]==="url"&&(t.updateName(e),t.setAttribute(z1,"route"),t.setAttribute(J,`auto.${R(t).op}.angular`))}var ZM=(()=>{class e{constructor(n){this._router=n,this.navStart$=this._router.events.pipe($e(r=>r instanceof C7),We(r=>{if(!$r){qr&&g.error("Angular integration has tracing enabled, but Tracing integration is not configured");return}this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);let o=N(),a=ot(r.url);if(o){this._isPageloadOngoing()?this._pageloadOngoing=!1:Ue(()=>{E6(o,{name:a,attributes:{[J]:"auto.navigation.angular",[z1]:"url"}})}),this._routingSpan=Ue(()=>I1({name:`${r.url}`,op:bd,attributes:m({[J]:"auto.ui.angular",[z1]:"url",url:a},r.navigationTrigger&&{navigationTrigger:r.navigationTrigger})}))||null;return}})),this.resEnd$=this._router.events.pipe($e(r=>r instanceof E7),We(r=>{let o=zd(r.state.root);o&&D().setTransactionName(o);let a=t1(),i=a&&Z(a);yd(o,i)})),this.navEnd$=this._router.events.pipe($e(r=>r instanceof y7||r instanceof z7||r instanceof M7),We(()=>{this._routingSpan&&(Ue(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new i7,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;let n=t1();if(!n)return this._pageloadOngoing=!1,!1;let r=Z(n);return this._pageloadOngoing=R(r).op==="pageload",this._pageloadOngoing}}return e.\u0275fac=function(n){return new(n||e)(l7(je))},e.\u0275prov=s7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Wr(e){let t;return n=>{let r=n.prototype.ngOnInit;n.prototype.ngOnInit=function(...a){if(t=Ue(()=>I1({onlyIfParent:!0,name:`<${e&&e.name?e.name:"unnamed"}>`,op:Cd,attributes:{[J]:"auto.ui.angular.trace_class_decorator"}})),r)return r.apply(this,a)};let o=n.prototype.ngAfterViewInit;n.prototype.ngAfterViewInit=function(...a){if(t&&Ue(()=>t.end()),o)return o.apply(this,a)}}}function zd(e){let t=[],n=e&&e.firstChild;for(;n;){let o=n&&n.routeConfig&&n.routeConfig.path;if(o==null)break;t.push(o),n=n.firstChild}let r=t.filter(o=>o).join("/");return r?`/${r}/`:"/"}function Ed(e,t){if(e&1&&_2(0,"img",5),e&2){let n=C3();a2("srcset",n.userData.photoURL)}}function xd(e,t){if(e&1&&(W1(0,"button",7),_2(1,"fa-icon",12),H2(2," Go To Boards "),G1()),e&2){let n=C3();a2("routerLink","/whiteboard/dashboard"),Q1(),a2("icon",n.faChevronLeft)}}function Td(e,t){if(e&1&&(W1(0,"button",8),_2(1,"fa-icon",12),H2(2," Remote Collaboration "),G1()),e&2){let n=C3(),r=R6(13);a2("mat-menu-trigger-for",r),Q1(),a2("icon",n.faHandshake)}}function Id(e,t){if(e&1&&(W1(0,"button",8),_2(1,"fa-icon",12),H2(2," Login "),G1()),e&2){let n=C3(),r=R6(22);a2("mat-menu-trigger-for",r),Q1(),a2("icon",n.faSignIn)}}function Nd(e,t){if(e&1){let n=H6();W1(0,"button",13),V4("click",function(){L6(n);let o=C3();return w6(o.logout())}),_2(1,"fa-icon",12),H2(2," Logout "),G1()}if(e&2){let n=C3();Q1(),a2("icon",n.faSignOut)}}var v3,Gr=(v3=class{get collabURL(){return location.href?.substring(0,20)+"..."}constructor(t,n){this.sharedService=t,this.router=n,this.faHandshake=P7,this.faCopy=F7,this.faSignOut=O7,this.faSignIn=D7,this.faChevronLeft=U7,this.toaster=f7(Ze),v4({message:"I really like your App, thanks!"},{captureContext:{tags:{key:"value"}},attachments:[{filename:"screenshot.png",data:"base64-encoded-image"}]})}ngOnInit(){this.auth=this.sharedService.getAuth(),this.sharedService.isLoggedIn().subscribe(t=>{this.userData=t,this.isLoggedIn=!!this.userData}),this.sharedService.hasWhiteBoardLoaded$().subscribe(t=>{this.enableGoToBoards=t})}logout(){this.auth.signOut().then(t=>{this.toaster.success("Logged Out Successfully","Success")})}copyCollabURL(){let t=navigator.clipboard;t&&(t.writeText(new URL(location.href).host+"/whiteboard/board"+location.hash),this.toaster.success("URL copied.. Share it with your friend and enjoy collaboration!"))}},v3.\u0275fac=function(n){return new(n||v3)(k2(e5),k2(je))},v3.\u0275cmp=q3({type:v3,selectors:[["app-whiteboard-wrapper"]],standalone:!0,features:[$3],decls:25,vars:6,consts:[["collabMenu",""],["loginMenu",""],[1,"whiteboard-container"],[1,"toolbar"],[1,"header-title",2,"display","flex","align-items","center","gap","0.5rem"],["width","50","height","50","src","","alt","",2,"border-radius","50%",3,"srcset"],[1,"actions"],["mat-button","","aria-label","Example icon-button with heart icon",3,"routerLink"],["mat-button","","aria-label","Example icon-button with heart icon",3,"mat-menu-trigger-for"],[1,"collab-menu"],[1,"head"],["mat-menu-item","",3,"click"],[3,"icon"],["mat-button","","aria-label","Example icon-button with heart icon",3,"click"]],template:function(n,r){if(n&1){let o=H6();W1(0,"div",2)(1,"mat-toolbar",3)(2,"div",4),k6(3,Ed,1,1,"img",5),W1(4,"span"),H2(5,"Whiteboard"),G1()(),W1(6,"div",6),k6(7,xd,3,2,"button",7)(8,Td,3,2,"button",8)(9,Id,3,2,"button",8)(10,Nd,3,1),G1()(),_2(11,"router-outlet"),G1(),W1(12,"mat-menu",null,0)(14,"div",9)(15,"span",10),H2(16,"Invite a friend"),G1(),W1(17,"span",11),V4("click",function(){return L6(o),w6(r.copyCollabURL())}),W1(18,"span"),H2(19),G1(),_2(20,"fa-icon",12),G1()()(),W1(21,"mat-menu",null,1)(23,"div",9),_2(24,"app-login"),G1()()}n&2&&(Q1(3),R4(3,r.userData!=null&&r.userData.photoURL?3:-1),Q1(4),R4(7,r.enableGoToBoards?7:-1),Q1(),R4(8,r.enableGoToBoards?8:-1),Q1(),R4(9,r.isLoggedIn?10:9),Q1(10),_7(r.collabURL),Q1(),a2("icon",r.faCopy))},dependencies:[I7,x7,T7,$7,q7,V7,Xe,Ke,R7,H7,k7,A7,Qe,Je,N7,G7,b7,B7],styles:[".whiteboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden}.whiteboard-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;overflow:hidden}.collab-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.collab-menu[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{font-weight:700}"]}),v3);Gr=c7([Wr({name:"Whieboard Wrapper"})],Gr);export{Zf as a,Vr as b,GM as c,jM as d,ZM as e,Gr as f};
